<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.0"><meta name="keywords" data-name="fire" content="JavaScript,Vue.js,小程序,WebPack,ECMAScript 6,vue,php,js,JavaScript,typescirpt,node,egg,很帅很愁人,web前端,全栈,网页,博客，前端博客,JavaScript,html5,css3,Jquery,NodeJs
"><meta name="360-site-verification" content="178e3a7a27a16a1253976882a4d99509"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/fly-32.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/fly-16.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="google-site-verification" content="iy8yHMd-90Qb6NAJqgoij_Cz3i3Jh9FRGRxrWJbRrOw"><meta name="msvalidate.01" content="92E59C28288B8049A45C6288AD39DFA0"><meta name="baidu-site-verification" content="code-etAIIwOVpZ"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"blog.wy1991.cn",root:"/",scheme:"Gemini",version:"7.8.0",exturl:!0,sidebar:{position:"left",display:"hide",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:"mac"},back2top:{enable:!0,sidebar:!1,scrollpercent:!1},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!0,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},path:"search.xml"}</script><meta name="description" content="各种js工具库，需要的来看看."><meta property="og:type" content="article"><meta property="og:title" content="js 常用工具utils"><meta property="og:url" content="https://blog.wy1991.cn/20210629/16-js-%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7utils/index.html"><meta property="og:site_name" content="很帅很愁人~"><meta property="og:description" content="各种js工具库，需要的来看看."><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2021-06-29T02:07:58.000Z"><meta property="article:modified_time" content="2022-02-26T08:12:49.495Z"><meta property="article:author" content="很帅很愁人~"><meta property="article:tag" content="js"><meta property="article:tag" content="utils"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://blog.wy1991.cn/20210629/16-js-%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7utils/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-CN"}</script><title>js 常用工具utils | 很帅很愁人~</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><script src="/js/fairyDustCursor.js"></script><script src="/js/clickLove.js"></script></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">很帅很愁人~</h1><span class="logo-line-after"><i></i></span></a><p class="site-subtitle" itemprop="description">迷茫是因为才华配不上梦想の，所以你必须非常努力，才能显得毫不费力！</p></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul id="menu" class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-学习"><a href="/19410322/999999-%E6%9C%89%E7%82%B9%E5%A5%BD%E7%8E%A9/" rel="section"><i class="fa fa-calendar fa-fw"></i>学习</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"><div id="no-result"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><div class="reading-progress-bar"></div><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content post posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://blog.wy1991.cn/20210629/16-js-%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7utils/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/my.jpg"><meta itemprop="name" content="很帅很愁人~"><meta itemprop="description" content="梦是一种欲望, 想是一种行动。梦想是梦与想的结晶，加油打工人~~"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="很帅很愁人~"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">js 常用工具utils</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2021-06-29 10:07:58" itemprop="dateCreated datePublished" datetime="2021-06-29T10:07:58+08:00">2021-06-29</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2022-02-26 16:12:49" itemprop="dateModified" datetime="2022-02-26T16:12:49+08:00">2022-02-26</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/js/" itemprop="url" rel="index"><span itemprop="name">js</span></a> </span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span id="busuanzi_value_page_pv"></span></span><div class="post-description" style="opacity:0">各种js工具库，需要的来看看.</div></div></header><div class="post-body" itemprop="articleBody"><blockquote><p>时间处理，如果有需要可以考虑 <code>dayjs</code></p></blockquote><h2 id="获取范围内随机数"><a href="#获取范围内随机数" class="headerlink" title="获取范围内随机数"></a>获取范围内随机数</h2><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">  <span class="function">function <span class="title">getRandomNum</span><span class="params">(max,min)</span></span>&#123;</span><br><span class="line">           <span class="keyword">return</span> Math.<span class="built_in">floor</span>(Math.<span class="built_in">random</span>() * (max - min) + min)</span><br><span class="line">   &#125;</span><br><span class="line"><span class="built_in">getRandomNum</span>(<span class="number">10</span>,<span class="number">5</span>)</span><br></pre></td></tr></table></figure><h2 id="深度克隆-deepclone"><a href="#深度克隆-deepclone" class="headerlink" title="深度克隆 deepclone"></a>深度克隆 deepclone</h2><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 方法一 利用迭代</span></span><br><span class="line"><span class="comment">// 思路是：判定要克隆的对象是不是引用类型，如果是引用类型，则继续迭代,如果该项是基本类型，则直接复制。</span></span><br><span class="line"><span class="keyword">function</span> deep<span class="constructor">Clone(<span class="params">obj</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> newObj=<span class="module-access"><span class="module"><span class="identifier">Array</span>.</span></span>is<span class="constructor">Array(<span class="params">obj</span>)</span>?<span class="literal">[]</span>:&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(obj&amp;&amp;typeof obj ===<span class="string">&quot;object&quot;</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">in</span> obj)&#123;</span><br><span class="line">            <span class="keyword">if</span>(obj.has<span class="constructor">OwnProperty(<span class="params">key</span>)</span>)&#123;</span><br><span class="line">                newObj<span class="literal">[<span class="identifier">key</span>]</span>=(obj<span class="operator"> &amp;&amp; </span>typeof obj<span class="literal">[<span class="identifier">key</span>]</span>===&#x27;<span class="keyword">object</span>&#x27;)?deep<span class="constructor">Clone(<span class="params">obj</span>[<span class="params">key</span>])</span>:obj<span class="literal">[<span class="identifier">key</span>]</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return newObj</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="获取时间"><a href="#获取时间" class="headerlink" title="获取时间"></a>获取时间</h2><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">parsetTime(<span class="built_in">new</span> <span class="type">Date</span>(),<span class="string">&#x27;&#123;y&#125;-&#123;m&#125;-&#123;d&#125; &#123;h&#125;:&#123;i&#125;:&#123;s&#125;&#x27;</span>)</span><br><span class="line"></span><br><span class="line">export <span class="keyword">function</span> parseTime(<span class="type">time</span>, cFormat) &#123;</span><br><span class="line">  <span class="keyword">if</span> (arguments.length === <span class="number">0</span> || !<span class="type">time</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span></span><br><span class="line">  &#125;</span><br><span class="line">  const <span class="keyword">format</span> = cFormat || <span class="string">&#x27;&#123;y&#125;-&#123;m&#125;-&#123;d&#125; &#123;h&#125;:&#123;i&#125;:&#123;s&#125;&#x27;</span></span><br><span class="line">  let <span class="type">date</span></span><br><span class="line">  <span class="keyword">if</span> (typeof <span class="type">time</span> === <span class="string">&#x27;object&#x27;</span>) &#123;</span><br><span class="line">    <span class="type">date</span> = <span class="type">time</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> ((typeof <span class="type">time</span> === <span class="string">&#x27;string&#x27;</span>)) &#123;</span><br><span class="line">      <span class="keyword">if</span> ((/^[<span class="number">0</span><span class="number">-9</span>]+$/.test(<span class="type">time</span>))) &#123;</span><br><span class="line">        // support &quot;1548221490638&quot;</span><br><span class="line">        <span class="type">time</span> = parseInt(<span class="type">time</span>)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        // support safari</span><br><span class="line">        // https://stackoverflow.com/questions/<span class="number">4310953</span>/invalid-<span class="type">date</span>-<span class="keyword">in</span>-safari</span><br><span class="line">        <span class="type">time</span> = <span class="type">time</span>.replace(<span class="built_in">new</span> RegExp(/-/gm), <span class="string">&#x27;/&#x27;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> ((typeof <span class="type">time</span> === <span class="string">&#x27;number&#x27;</span>) &amp;&amp; (<span class="type">time</span>.toString().length === <span class="number">10</span>)) &#123;</span><br><span class="line">      <span class="type">time</span> = <span class="type">time</span> * <span class="number">1000</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">date</span> = <span class="built_in">new</span> <span class="type">Date</span>(<span class="type">time</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  const formatObj = &#123;</span><br><span class="line">    y: <span class="type">date</span>.getFullYear(),</span><br><span class="line">    m: <span class="type">date</span>.getMonth() + <span class="number">1</span>,</span><br><span class="line">    d: <span class="type">date</span>.getDate(),</span><br><span class="line">    h: <span class="type">date</span>.getHours(),</span><br><span class="line">    i: <span class="type">date</span>.getMinutes(),</span><br><span class="line">    s: <span class="type">date</span>.getSeconds(),</span><br><span class="line">    a: <span class="type">date</span>.getDay()</span><br><span class="line">  &#125;</span><br><span class="line">  const time_str = <span class="keyword">format</span>.replace(/&#123;([ymdhisa])+&#125;/g, (result, key) =&gt; &#123;</span><br><span class="line">    const <span class="keyword">value</span> = formatObj[key]</span><br><span class="line">    // Note: getDay() <span class="keyword">returns</span> <span class="number">0</span> <span class="keyword">on</span> Sunday</span><br><span class="line">    <span class="keyword">if</span> (key === <span class="string">&#x27;a&#x27;</span>) &#123; <span class="keyword">return</span> [<span class="string">&#x27;日&#x27;</span>, <span class="string">&#x27;一&#x27;</span>, <span class="string">&#x27;二&#x27;</span>, <span class="string">&#x27;三&#x27;</span>, <span class="string">&#x27;四&#x27;</span>, <span class="string">&#x27;五&#x27;</span>, <span class="string">&#x27;六&#x27;</span>][<span class="keyword">value</span> ] &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">value</span>.toString().padStart(<span class="number">2</span>, <span class="string">&#x27;0&#x27;</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> time_str</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="根据时间返回多久以前"><a href="#根据时间返回多久以前" class="headerlink" title="根据时间返回多久以前"></a>根据时间返回多久以前</h2><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">export <span class="keyword">function</span> formatTime(<span class="type">time</span>, <span class="keyword">option</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> ((<span class="string">&#x27;&#x27;</span> + <span class="type">time</span>).length === <span class="number">10</span>) &#123;</span><br><span class="line">    <span class="type">time</span> = parseInt(<span class="type">time</span>) * <span class="number">1000</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="type">time</span> = +<span class="type">time</span></span><br><span class="line">  &#125;</span><br><span class="line">  const d = <span class="built_in">new</span> <span class="type">Date</span>(<span class="type">time</span>)</span><br><span class="line">  const now = <span class="type">Date</span>.now()</span><br><span class="line"></span><br><span class="line">  const diff = (now - d) / <span class="number">1000</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (diff &lt; <span class="number">30</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;刚刚&#x27;</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (diff &lt; <span class="number">3600</span>) &#123;</span><br><span class="line">    // less <span class="number">1</span> hour</span><br><span class="line">    <span class="keyword">return</span> Math.ceil(diff / <span class="number">60</span>) + <span class="string">&#x27;分钟前&#x27;</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (diff &lt; <span class="number">3600</span> * <span class="number">24</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> Math.ceil(diff / <span class="number">3600</span>) + <span class="string">&#x27;小时前&#x27;</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (diff &lt; <span class="number">3600</span> * <span class="number">24</span> * <span class="number">2</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;1天前&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">option</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> parseTime(<span class="type">time</span>, <span class="keyword">option</span>)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      d.getMonth() +</span><br><span class="line">      <span class="number">1</span> +</span><br><span class="line">      <span class="string">&#x27;月&#x27;</span> +</span><br><span class="line">      d.getDate() +</span><br><span class="line">      <span class="string">&#x27;日&#x27;</span> +</span><br><span class="line">      d.getHours() +</span><br><span class="line">      <span class="string">&#x27;时&#x27;</span> +</span><br><span class="line">      d.getMinutes() +</span><br><span class="line">      <span class="string">&#x27;分&#x27;</span></span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="防抖"><a href="#防抖" class="headerlink" title="防抖"></a>防抖</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 防抖</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">debounce</span> (<span class="params"><span class="built_in">this</span>: <span class="built_in">any</span>, fn: <span class="built_in">Function</span>, delay = <span class="number">500</span></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">let</span> timer = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="function">(<span class="params">...args</span>) =&gt;</span> &#123;</span><br><span class="line">		<span class="keyword">if</span> (timer) <span class="built_in">window</span>.clearTimeout(timer);</span><br><span class="line">		timer = <span class="built_in">window</span>.setTimeout(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">			fn.apply(<span class="built_in">this</span>, args);</span><br><span class="line">		&#125;, delay);</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">func, wait, immediate</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> timeout, args, context, timestamp, result</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> later = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 据上一次触发时间间隔</span></span><br><span class="line">    <span class="keyword">const</span> last = +<span class="keyword">new</span> <span class="built_in">Date</span>() - timestamp</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 上次被包装函数被调用时间间隔 last 小于设定时间间隔 wait</span></span><br><span class="line">    <span class="keyword">if</span> (last &lt; wait &amp;&amp; last &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      timeout = <span class="built_in">setTimeout</span>(later, wait - last)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      timeout = <span class="literal">null</span></span><br><span class="line">      <span class="comment">// 如果设定为immediate===true，因为开始边界已经调用过了此处无需调用</span></span><br><span class="line">      <span class="keyword">if</span> (!immediate) &#123;</span><br><span class="line">        result = func.apply(context, args)</span><br><span class="line">        <span class="keyword">if</span> (!timeout) context = args = <span class="literal">null</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">...args</span>) </span>&#123;</span><br><span class="line">    context = <span class="built_in">this</span></span><br><span class="line">    timestamp = +<span class="keyword">new</span> <span class="built_in">Date</span>()</span><br><span class="line">    <span class="keyword">const</span> callNow = immediate &amp;&amp; !timeout</span><br><span class="line">    <span class="comment">// 如果延时不存在，重新设定延时</span></span><br><span class="line">    <span class="keyword">if</span> (!timeout) timeout = <span class="built_in">setTimeout</span>(later, wait)</span><br><span class="line">    <span class="keyword">if</span> (callNow) &#123;</span><br><span class="line">      result = func.apply(context, args)</span><br><span class="line">      context = args = <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="节流"><a href="#节流" class="headerlink" title="节流"></a>节流</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 节流</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">throttle</span> (<span class="params"><span class="built_in">this</span>: <span class="built_in">any</span>, fn: <span class="built_in">Function</span>, interval = <span class="number">500</span></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">let</span> last = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="function">(<span class="params">...args</span>) =&gt;</span> &#123;</span><br><span class="line">		<span class="keyword">let</span> now = +<span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">		<span class="comment">// 还没到时间</span></span><br><span class="line">		<span class="keyword">if</span> (now - last &lt; interval) <span class="keyword">return</span>;</span><br><span class="line">		last = now;</span><br><span class="line">		fn.apply(<span class="built_in">this</span>, args);</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="获取-query-对象"><a href="#获取-query-对象" class="headerlink" title="获取 query 对象"></a>获取 query 对象</h2><figure class="highlight qml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">getQueryObject</span>(<span class="params">url</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">url</span> = <span class="built_in">url</span> == <span class="literal">null</span> ? <span class="attribute">window.location.href</span> : <span class="built_in">url</span></span><br><span class="line">  <span class="keyword">const</span> search = <span class="built_in">url</span>.substring(<span class="built_in">url</span>.lastIndexOf(<span class="string">&#x27;?&#x27;</span>) + <span class="number">1</span>)</span><br><span class="line">  <span class="keyword">const</span> obj = &#123;&#125;</span><br><span class="line">  <span class="keyword">const</span> reg = <span class="regexp">/([^?&amp;=]+)=([^?&amp;=]*)/g</span></span><br><span class="line">  search.replace(reg, (rs, $<span class="number">1</span>, $<span class="number">2</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> name = <span class="built_in">decodeURIComponent</span>($<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">let</span> val = <span class="built_in">decodeURIComponent</span>($<span class="number">2</span>)</span><br><span class="line">    val = <span class="built_in">String</span>(val)</span><br><span class="line">    obj[name] = val</span><br><span class="line">    <span class="keyword">return</span> rs</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> obj</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="字节长度"><a href="#字节长度" class="headerlink" title="字节长度"></a>字节长度</h2><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">export</span> <span class="meta">function</span> byteLength(str) &#123;</span><br><span class="line">  <span class="comment">// returns the byte length of an utf8 string</span></span><br><span class="line">  let s = str.length</span><br><span class="line">  for (var i = str.length - <span class="number">1</span><span class="comment">; i &gt;= 0; i--) &#123;</span></span><br><span class="line">    const <span class="meta">code</span> = str.charCodeAt(i)</span><br><span class="line">    <span class="meta">if</span> (<span class="meta">code</span> &gt; <span class="number">0x7f</span> &amp;&amp; <span class="meta">code</span> &lt;= <span class="number">0x7ff</span>) s++</span><br><span class="line">    <span class="meta">else</span> <span class="meta">if</span> (<span class="meta">code</span> &gt; <span class="number">0x7ff</span> &amp;&amp; <span class="meta">code</span> &lt;= <span class="number">0xffff</span>) s += <span class="number">2</span></span><br><span class="line">    <span class="meta">if</span> (<span class="meta">code</span> &gt;= <span class="number">0xDC00</span> &amp;&amp; <span class="meta">code</span> &lt;= <span class="number">0xDFFF</span>) i--</span><br><span class="line">  &#125;</span><br><span class="line">  return s</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="克隆数组"><a href="#克隆数组" class="headerlink" title="克隆数组"></a>克隆数组</h2><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">export <span class="function"><span class="keyword">function</span> <span class="title">cleanArray</span></span>(actual) &#123;</span><br><span class="line">  const <span class="keyword">new</span><span class="type">Array</span> = []</span><br><span class="line">  <span class="keyword">for</span> (let i = <span class="number">0</span>; i &lt; actual.length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (actual[i]) &#123;</span><br><span class="line">      <span class="keyword">new</span><span class="type">Array</span>.push(actual[i])</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span><span class="type">Array</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="html-获取文本"><a href="#html-获取文本" class="headerlink" title="html 获取文本"></a>html 获取文本</h2><figure class="highlight nim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> function html2Text(val) &#123;</span><br><span class="line">  <span class="keyword">const</span> <span class="keyword">div</span> = document.createElement(&#x27;<span class="keyword">div</span>&#x27;)</span><br><span class="line">  <span class="keyword">div</span>.innerHTML = val</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">div</span>.textContent || <span class="keyword">div</span>.innerText</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="切换-class"><a href="#切换-class" class="headerlink" title="切换 class"></a>切换 class</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">toggleClass</span>(<span class="params">element, className</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!element || !className) &#123;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">let</span> classString = element.className</span><br><span class="line">  <span class="keyword">const</span> nameIndex = classString.indexOf(className)</span><br><span class="line">  <span class="keyword">if</span> (nameIndex === -<span class="number">1</span>) &#123;</span><br><span class="line">    classString += <span class="string">&#x27;&#x27;</span> + className</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    classString =</span><br><span class="line">      classString.substr(<span class="number">0</span>, nameIndex) +</span><br><span class="line">      classString.substr(nameIndex + className.length)</span><br><span class="line">  &#125;</span><br><span class="line">  element.className = classString</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">hasClass</span>(<span class="params">ele, cls</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> !!ele.className.match(<span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">&#x27;(\\s|^)&#x27;</span> + cls + <span class="string">&#x27;(\\s|$)&#x27;</span>))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">addClass</span>(<span class="params">ele, cls</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!hasClass(ele, cls)) ele.className += <span class="string">&#x27; &#x27;</span> + cls</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Remove class from element</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;HTMLElement&#125;</span> <span class="variable">elm</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string&#125;</span> <span class="variable">cls</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">removeClass</span>(<span class="params">ele, cls</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (hasClass(ele, cls)) &#123;</span><br><span class="line">    <span class="keyword">const</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">&#x27;(\\s|^)&#x27;</span> + cls + <span class="string">&#x27;(\\s|$)&#x27;</span>)</span><br><span class="line">    ele.className = ele.className.replace(reg, <span class="string">&#x27; &#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="星号替换-135-15151"><a href="#星号替换-135-15151" class="headerlink" title="星号替换 135****15151"></a>星号替换 135****15151</h2><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 部分隐藏处理</span></span><br><span class="line"><span class="comment">** str 需要处理的字符串</span></span><br><span class="line"><span class="comment">** frontLen 保留的前几位</span></span><br><span class="line"><span class="comment">** endLen 保留的后几位</span></span><br><span class="line"><span class="comment">** cha 替换的字符串</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">export function plusXing(<span class="built_in">str</span>, frontLen, endLen,cha) &#123;</span><br><span class="line">  <span class="built_in">var</span> len = <span class="built_in">str</span>.length - frontLen - endLen;</span><br><span class="line">  <span class="built_in">var</span> xing = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="built_in">var</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">    xing += cha;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">str</span>.substring(<span class="number">0</span>, frontLen) + xing + <span class="built_in">str</span>.substring(<span class="built_in">str</span>.length - endLen);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="上午下午"><a href="#上午下午" class="headerlink" title="上午下午"></a>上午下午</h2><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//获取上午，下午晚上</span></span><br><span class="line">export function getDayType()&#123;</span><br><span class="line">  let <span class="built_in">str</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  let now = <span class="keyword">new</span> Date(),<span class="built_in">hour</span> = now.getHours()</span><br><span class="line">  console.<span class="built_in">log</span>(<span class="built_in">hour</span>)</span><br><span class="line">  <span class="keyword">if</span>(<span class="built_in">hour</span> &lt; <span class="number">6</span>)&#123;</span><br><span class="line">    <span class="built_in">str</span> = <span class="string">&#x27;凌晨&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">hour</span> &lt; <span class="number">9</span>)&#123;</span><br><span class="line">    <span class="built_in">str</span> = <span class="string">&#x27;早上&#x27;</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">hour</span> &lt; <span class="number">12</span>)&#123;</span><br><span class="line">    <span class="built_in">str</span> = <span class="string">&#x27;上午&#x27;</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">hour</span> &lt; <span class="number">14</span>)&#123;</span><br><span class="line">    <span class="built_in">str</span> = <span class="string">&#x27;中午&#x27;</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">hour</span> &lt; <span class="number">17</span>)&#123;</span><br><span class="line">    <span class="built_in">str</span> = <span class="string">&#x27;下午&#x27;</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">hour</span> &lt; <span class="number">19</span>)&#123;</span><br><span class="line">    <span class="built_in">str</span> = <span class="string">&#x27;傍晚&#x27;</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">hour</span> &lt; <span class="number">22</span>)&#123;</span><br><span class="line">    <span class="built_in">str</span> = <span class="string">&#x27;晚上&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">str</span> = <span class="string">&#x27;夜里&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">str</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="唯一数组"><a href="#唯一数组" class="headerlink" title="唯一数组"></a>唯一数组</h2><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 方法一 利用迭代</span></span><br><span class="line"><span class="comment">// 思路是：判定要克隆的对象是不是引用类型，如果是引用类型，则继续迭代,如果该项是基本类型，则直接复制。</span></span><br><span class="line"><span class="keyword">function</span> deep<span class="constructor">Clone(<span class="params">obj</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> newObj=<span class="module-access"><span class="module"><span class="identifier">Array</span>.</span></span>is<span class="constructor">Array(<span class="params">obj</span>)</span>?<span class="literal">[]</span>:&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(obj&amp;&amp;typeof obj ===<span class="string">&quot;object&quot;</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">in</span> obj)&#123;</span><br><span class="line">            <span class="keyword">if</span>(obj.has<span class="constructor">OwnProperty(<span class="params">key</span>)</span>)&#123;</span><br><span class="line">                newObj<span class="literal">[<span class="identifier">key</span>]</span>=(obj<span class="operator"> &amp;&amp; </span>typeof obj<span class="literal">[<span class="identifier">key</span>]</span>===&#x27;<span class="keyword">object</span>&#x27;)?deep<span class="constructor">Clone(<span class="params">obj</span>[<span class="params">key</span>])</span>:obj<span class="literal">[<span class="identifier">key</span>]</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return newObj</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="随机数"><a href="#随机数" class="headerlink" title="随机数"></a>随机数</h2><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//随机数</span></span><br><span class="line"><span class="keyword">function</span> get<span class="constructor">Random(<span class="params">n</span>,<span class="params">m</span>)</span>&#123;</span><br><span class="line">    return (<span class="module-access"><span class="module"><span class="identifier">Math</span>.</span></span>random<span class="literal">()</span><span class="operator"> * </span>(m - n) + n)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> get<span class="constructor">RandomInt(<span class="params">n</span>,<span class="params">m</span>)</span>&#123;</span><br><span class="line">    return <span class="module-access"><span class="module"><span class="identifier">Math</span>.</span></span>floor(<span class="module-access"><span class="module"><span class="identifier">Math</span>.</span></span>random<span class="literal">()</span><span class="operator"> * </span>(m - n) + n)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="下载文件"><a href="#下载文件" class="headerlink" title="下载文件"></a>下载文件</h2><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">const XLSX =require(&#x27;xlsx&#x27;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//下载</span></span><br><span class="line"><span class="keyword">function</span> down<span class="constructor">File(<span class="params">arr</span>,<span class="params">filename</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// let arr = [</span></span><br><span class="line">    <span class="comment">//     [&#x27;姓名&#x27;, &#x27;性别&#x27;, &#x27;年龄&#x27;, &#x27;注册时间&#x27;],</span></span><br><span class="line">    <span class="comment">//     [&#x27;张三&#x27;, &#x27;男&#x27;, 18, new Date()],</span></span><br><span class="line">    <span class="comment">//     [&#x27;李四&#x27;, &#x27;女&#x27;, 22, new Date()]</span></span><br><span class="line">    <span class="comment">// ];</span></span><br><span class="line">    <span class="keyword">let</span> sheet = <span class="module-access"><span class="module"><span class="identifier">XLSX</span>.</span></span>utils.aoa<span class="constructor">_to_sheet(<span class="params">arr</span>)</span>;</span><br><span class="line">    <span class="keyword">open</span><span class="constructor">DownloadDialog(<span class="params">sheet2blob</span>(<span class="params">sheet</span>)</span>, filename + &#x27;.xlsx&#x27;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 将一个sheet转成最终的excel文件的blob对象，然后利用URL.createObjectURL下载</span></span><br><span class="line"><span class="keyword">function</span> sheet2blob(sheet, sheetName) &#123;</span><br><span class="line">    sheetName = sheetName<span class="operator"> || </span>&#x27;sheet1&#x27;;</span><br><span class="line">    var workbook = &#123;</span><br><span class="line">        SheetNames: <span class="literal">[<span class="identifier">sheetName</span>]</span>,</span><br><span class="line">        Sheets: &#123;&#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    workbook.Sheets<span class="literal">[<span class="identifier">sheetName</span>]</span> = sheet;</span><br><span class="line">    <span class="comment">// 生成excel的配置项</span></span><br><span class="line">    var wopts = &#123;</span><br><span class="line">        bookType: &#x27;xlsx&#x27;, <span class="comment">// 要生成的文件类型</span></span><br><span class="line">        bookSST: <span class="literal">false</span>, <span class="comment">// 是否生成Shared String Table，官方解释是，如果开启生成速度会下降，但在低版本IOS设备上有更好的兼容性</span></span><br><span class="line">        <span class="keyword">type</span>: &#x27;binary&#x27;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    var wbout = <span class="module-access"><span class="module"><span class="identifier">XLSX</span>.</span></span>write(workbook, wopts);</span><br><span class="line">    var blob = <span class="keyword">new</span> <span class="constructor">Blob([<span class="params">s2ab</span>(<span class="params">wbout</span>)</span>], &#123;<span class="keyword">type</span>:<span class="string">&quot;application/octet-stream&quot;</span>&#125;);</span><br><span class="line">    <span class="comment">// 字符串转ArrayBuffer</span></span><br><span class="line">    <span class="keyword">function</span> s2ab(s) &#123;</span><br><span class="line">        var buf = <span class="keyword">new</span> <span class="constructor">ArrayBuffer(<span class="params">s</span>.<span class="params">length</span>)</span>;</span><br><span class="line">        var view = <span class="keyword">new</span> <span class="constructor">Uint8Array(<span class="params">buf</span>)</span>;</span><br><span class="line">        <span class="keyword">for</span> (var i=<span class="number">0</span>; i!=s.length; ++i) view<span class="literal">[<span class="identifier">i</span>]</span> = s.<span class="built_in">char</span><span class="constructor">CodeAt(<span class="params">i</span>)</span> &amp; <span class="number">0xFF</span>;</span><br><span class="line">        return buf;</span><br><span class="line">    &#125;</span><br><span class="line">    return blob;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 通用的打开下载对话框方法，没有测试过具体兼容性</span></span><br><span class="line"><span class="comment"> * @param url 下载地址，也可以是一个blob对象，必选</span></span><br><span class="line"><span class="comment"> * @param saveName 保存文件名，可选</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="keyword">open</span><span class="constructor">DownloadDialog(<span class="params">url</span>, <span class="params">saveName</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(typeof url<span class="operator"> == </span>&#x27;<span class="keyword">object</span>&#x27;<span class="operator"> &amp;&amp; </span>url instanceof Blob)</span><br><span class="line">    &#123;</span><br><span class="line">        url = <span class="module-access"><span class="module"><span class="identifier">URL</span>.</span></span>create<span class="constructor">ObjectURL(<span class="params">url</span>)</span>; <span class="comment">// 创建blob地址</span></span><br><span class="line">    &#125;</span><br><span class="line">    var aLink = document.create<span class="constructor">Element(&#x27;<span class="params">a</span>&#x27;)</span>;</span><br><span class="line">    aLink.href = url;</span><br><span class="line">    aLink.download = saveName<span class="operator"> || </span>&#x27;&#x27;; <span class="comment">// HTML5新增的属性，指定保存文件名，可以不要后缀，注意，file:///模式下不会生效</span></span><br><span class="line">    var event;</span><br><span class="line">    <span class="keyword">if</span>(window.MouseEvent) event = <span class="keyword">new</span> <span class="constructor">MouseEvent(&#x27;<span class="params">click</span>&#x27;)</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        event = document.create<span class="constructor">Event(&#x27;MouseEvents&#x27;)</span>;</span><br><span class="line">        event.init<span class="constructor">MouseEvent(&#x27;<span class="params">click</span>&#x27;, <span class="params">true</span>, <span class="params">false</span>, <span class="params">window</span>, 0, 0, 0, 0, 0, <span class="params">false</span>, <span class="params">false</span>, <span class="params">false</span>, <span class="params">false</span>, 0, <span class="params">null</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    aLink.dispatch<span class="constructor">Event(<span class="params">event</span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="sessionStorage-封装"><a href="#sessionStorage-封装" class="headerlink" title="sessionStorage 封装"></a>sessionStorage 封装</h2><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> get<span class="constructor">Item(<span class="params">key</span>)</span>&#123;</span><br><span class="line">    return <span class="module-access"><span class="module"><span class="identifier">JSON</span>.</span></span>parse(window.sessionStorage.get<span class="constructor">Item(<span class="params">key</span>)</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> set<span class="constructor">Item(<span class="params">key</span>,<span class="params">value</span>)</span>&#123;</span><br><span class="line">    window.sessionStorage.set<span class="constructor">Item(<span class="params">key</span>,<span class="params">value</span>)</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> remove<span class="constructor">Item(<span class="params">key</span>)</span>&#123;</span><br><span class="line">    window.sessionStorage.remove<span class="constructor">Item(<span class="params">key</span>)</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> clear<span class="constructor">Item()</span> &#123;</span><br><span class="line">    window.sessionStorage.clear<span class="literal">()</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="获取差距多少天"><a href="#获取差距多少天" class="headerlink" title="获取差距多少天"></a>获取差距多少天</h2><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="constructor">GetNumberOfDays(<span class="params">date1</span>,<span class="params">date2</span>)</span>&#123;<span class="comment">//获得天数</span></span><br><span class="line">    <span class="comment">//date1：开始日期，date2结束日期</span></span><br><span class="line">    var a1 = <span class="module-access"><span class="module"><span class="identifier">Date</span>.</span></span>parse(<span class="keyword">new</span> <span class="constructor">Date(<span class="params">date1</span>)</span>);</span><br><span class="line">    var a2 = <span class="module-access"><span class="module"><span class="identifier">Date</span>.</span></span>parse(<span class="keyword">new</span> <span class="constructor">Date(<span class="params">date2</span>)</span>);</span><br><span class="line">    var day = parse<span class="constructor">Int((<span class="params">a2</span>-<span class="params">a1</span>)</span>/ (<span class="number">1000</span><span class="operator"> * </span><span class="number">60</span><span class="operator"> * </span><span class="number">60</span><span class="operator"> * </span><span class="number">24</span>));<span class="comment">//核心：时间戳相减，然后除以天数</span></span><br><span class="line">    return day</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="百度地图坐标转高德"><a href="#百度地图坐标转高德" class="headerlink" title="百度地图坐标转高德"></a>百度地图坐标转高德</h2><pre><code>  function baidu*to_gaode(bd_lng, bd_lat)&#123;
  //百度坐标转高德（传入经度、纬度）
  var X_PI = Math.PI * 3000.0 / 180.0;
  var x = bd*lng - 0.0065;
  var y = bd_lat - 0.006;
  var z = Math.sqrt(x * x + y _ y) - 0.00002 _ Math.sin(y _ X_PI);
  var theta = Math.atan2(y, x) - 0.000003 _ Math.cos(x _ X_PI);
  var gg_lng = z _ Math.cos(theta);
  var gg_lat = z \* Math.sin(theta);
  return &#123;lng: gg_lng,lat: gg_lat&#125;
  &#125;
</code></pre><h2 id="获取最近-7-天"><a href="#获取最近-7-天" class="headerlink" title="获取最近 7 天"></a>获取最近 7 天</h2><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取最近几天</span></span><br><span class="line"><span class="keyword">function</span> get<span class="constructor">LastDay(<span class="params">day</span>,<span class="params">start</span> = <span class="params">new</span> Date()</span>)&#123;</span><br><span class="line"></span><br><span class="line"> start.set<span class="constructor">Time(<span class="params">start</span>.<span class="params">getTime</span>()</span> - <span class="number">3600</span><span class="operator"> * </span><span class="number">1000</span><span class="operator"> * </span><span class="number">24</span><span class="operator"> * </span>day);</span><br><span class="line"> return start</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="日期变星期几"><a href="#日期变星期几" class="headerlink" title="日期变星期几"></a>日期变星期几</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//日期转变成周几</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getweekDay</span>(<span class="params">time</span>)</span>&#123;</span><br><span class="line"> <span class="keyword">var</span> a = [<span class="string">&quot;日&quot;</span>, <span class="string">&quot;一&quot;</span>, <span class="string">&quot;二&quot;</span>, <span class="string">&quot;三&quot;</span>, <span class="string">&quot;四&quot;</span>, <span class="string">&quot;五&quot;</span>, <span class="string">&quot;六&quot;</span>];</span><br><span class="line"> <span class="keyword">let</span> day = <span class="keyword">new</span> <span class="built_in">Date</span>(time).getDay()</span><br><span class="line"> <span class="keyword">return</span> <span class="string">`周<span class="subst">$&#123;a[day]&#125;</span>`</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="根据当前时间获取前一天后一天"><a href="#根据当前时间获取前一天后一天" class="headerlink" title="根据当前时间获取前一天后一天"></a>根据当前时间获取前一天后一天</h2><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getpreDay</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	 <span class="keyword">var</span> curDate = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">	 <span class="keyword">var</span> preDate = <span class="keyword">new</span> <span class="built_in">Date</span>(curDate.getTime() - <span class="number">24</span>*<span class="number">60</span>*<span class="number">60</span>*<span class="number">1000</span>); <span class="comment">//前一天</span></span><br><span class="line">	 <span class="keyword">return</span> preDate</span><br><span class="line">	 <span class="comment">// var nextDate = new Date(curDate.getTime() + 24*60*60*1000); //后一天</span></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h2 id="localStorage-的已使用空间"><a href="#localStorage-的已使用空间" class="headerlink" title="localStorage 的已使用空间"></a>localStorage 的已使用空间</h2><p>在较新的 chrome 上测试，localStorage 的存储是按照字符个数来算的。 包含键和值的。<br>所以在测试代码中，你把 a 修改啊，不会影响存储的数量。 但是键的长度，会影响存储的数量。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getLSUsedSpace</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.keys(<span class="built_in">localStorage</span>).reduce(<span class="function">(<span class="params">total, curKey</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">localStorage</span>.hasOwnProperty(curKey)) &#123;</span><br><span class="line">            <span class="keyword">return</span> total;</span><br><span class="line">        &#125;</span><br><span class="line">        total += <span class="built_in">localStorage</span>[curKey].length + curKey.length;</span><br><span class="line">        <span class="keyword">return</span> total;</span><br><span class="line">    &#125;, <span class="number">0</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">localStorage</span>.clear();</span><br><span class="line"><span class="built_in">localStorage</span>.a = <span class="string">&quot;啊&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(getLSUsedSpace()); <span class="comment">// 2</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="带图带事件的桌面通知"><a href="#带图带事件的桌面通知" class="headerlink" title="带图带事件的桌面通知"></a>带图带事件的桌面通知</h2><p>利用 notify</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="keyword">do</span><span class="constructor">Notify(<span class="params">title</span>, <span class="params">options</span> = &#123;&#125;, <span class="params">events</span> = &#123;&#125;)</span> &#123;</span><br><span class="line">    const notification = <span class="keyword">new</span> <span class="constructor">Notification(<span class="params">title</span>, <span class="params">options</span>)</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> event <span class="keyword">in</span> events) &#123;</span><br><span class="line">        notification<span class="literal">[<span class="identifier">event</span>]</span> = events<span class="literal">[<span class="identifier">event</span>]</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> notify(title, options = &#123;&#125;, events = &#123;&#125;) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!(<span class="string">&quot;Notification&quot;</span> <span class="keyword">in</span> window)) &#123;</span><br><span class="line">        return console.error(<span class="string">&quot;This browser does not support desktop notification&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (<span class="module-access"><span class="module"><span class="identifier">Notification</span>.</span></span>permission<span class="operator"> === </span><span class="string">&quot;granted&quot;</span>) &#123;</span><br><span class="line">        <span class="keyword">do</span><span class="constructor">Notify(<span class="params">title</span>, <span class="params">options</span>, <span class="params">events</span>)</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="module-access"><span class="module"><span class="identifier">Notification</span>.</span></span>permission !== <span class="string">&quot;denied&quot;</span>) &#123;</span><br><span class="line">        <span class="module-access"><span class="module"><span class="identifier">Notification</span>.</span></span>request<span class="constructor">Permission()</span>.<span class="keyword">then</span>(<span class="keyword">function</span> (permission) &#123;</span><br><span class="line">            <span class="keyword">if</span> (permission<span class="operator"> === </span><span class="string">&quot;granted&quot;</span>) &#123;</span><br><span class="line">                <span class="keyword">do</span><span class="constructor">Notify(<span class="params">title</span>, <span class="params">options</span>, <span class="params">events</span>)</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  notify(<span class="string">&quot;中奖提示&quot;</span>, &#123;</span><br><span class="line">            icon: <span class="string">&quot;https://sf1-ttcdn-tos.pstatp.com/img/user-avatar/f1a9f122e925aeef5e4534ff7f706729~300x300.image&quot;</span>,</span><br><span class="line">            body: <span class="string">&quot;恭喜你，掘金签到一等奖&quot;</span>,</span><br><span class="line">            tag: <span class="string">&quot;prize&quot;</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">            onclick(ev) &#123;</span><br><span class="line">                console.log(ev);</span><br><span class="line">                ev.target.close<span class="literal">()</span>;</span><br><span class="line">                window.focus<span class="literal">()</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="原生-30-行代码实现视频截图"><a href="#原生-30-行代码实现视频截图" class="headerlink" title="原生 30 行代码实现视频截图"></a>原生 30 行代码实现视频截图</h2><p>基本原理就是把视频画到 Canvas 里面，然后调用 toDataURL 或者 toBlob，再利用 a 标签模拟点击，download 属性指定名字。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">captureVideo</span>(<span class="params">videoEl</span>) </span>&#123;</span><br><span class="line">          <span class="keyword">let</span> canvasEl;</span><br><span class="line">          <span class="keyword">let</span> dataUrl;</span><br><span class="line">          <span class="keyword">try</span> &#123;</span><br><span class="line">              <span class="keyword">const</span> cps = <span class="built_in">window</span>.getComputedStyle(videoEl);</span><br><span class="line">              <span class="keyword">const</span> width = +cps.getPropertyValue(<span class="string">&quot;width&quot;</span>).replace(<span class="string">&quot;px&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">              <span class="keyword">const</span> height = +cps.getPropertyValue(<span class="string">&quot;height&quot;</span>).replace(<span class="string">&quot;px&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line"></span><br><span class="line">              canvasEl = <span class="built_in">document</span>.createElement(<span class="string">&quot;canvas&quot;</span>);</span><br><span class="line">              canvasEl.style.cssText = <span class="string">`position:fixed;left:-9999px`</span>;</span><br><span class="line">              canvasEl.height = height;</span><br><span class="line">              canvasEl.width = width;</span><br><span class="line"></span><br><span class="line">              <span class="built_in">document</span>.body.appendChild(canvasEl);</span><br><span class="line"></span><br><span class="line">              <span class="keyword">const</span> ctx = canvasEl.getContext(<span class="string">&quot;2d&quot;</span>);</span><br><span class="line">              ctx.drawImage(videoEl, <span class="number">0</span>, <span class="number">0</span>, width, height);</span><br><span class="line">              <span class="comment">// const image = canvas.toDataURL(&quot;image/png&quot;);</span></span><br><span class="line">              dataUrl = canvasEl.toDataURL();</span><br><span class="line"></span><br><span class="line">              <span class="built_in">document</span>.body.removeChild(canvasEl);</span><br><span class="line">              canvasEl = <span class="literal">null</span>;</span><br><span class="line">              <span class="keyword">return</span> dataUrl;</span><br><span class="line">          &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">              <span class="keyword">if</span> (canvasEl) &#123;</span><br><span class="line">                  <span class="built_in">document</span>.body.removeChild(canvasEl);</span><br><span class="line">              &#125;</span><br><span class="line">              <span class="keyword">if</span> (dataUrl) &#123;</span><br><span class="line">                  <span class="keyword">return</span> dataUrl;</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      <span class="comment">//示例注意添加crossorigin=&quot;anonymous&quot;，不然转为图片会失败。</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;video id=<span class="string">&quot;videoEL&quot;</span> controls autoplay crossorigin=<span class="string">&quot;anonymous&quot;</span></span><br><span class="line">      src=<span class="string">&quot;https://api.dogecloud.com/player/get.mp4?vcode=5ac682e6f8231991&amp;userId=17&amp;ext=.mp4&quot;</span> width=<span class="string">&quot;500&quot;</span>&gt;&lt;/video&gt;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">download</span>(<span class="params">url</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">const</span> aEl = <span class="built_in">document</span>.createElement(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">            aEl.href = url;</span><br><span class="line">            aEl.download = <span class="string">&quot;视频.png&quot;</span>;</span><br><span class="line">            aEl.click();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">doCaptureVideo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">const</span> url = captureVideo(videoEL);</span><br><span class="line">            download(url);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        doCaptureVideo()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="基于-URLSearchParams-或-URL-获取-queryString-的值"><a href="#基于-URLSearchParams-或-URL-获取-queryString-的值" class="headerlink" title="基于 URLSearchParams 或 URL 获取 queryString 的值"></a>基于 URLSearchParams 或 URL 获取 queryString 的值</h2><p>常用的方式是使用正则或者 split 方法，其实不然，URLSearchParams 和 URL 都能很好的实现功能。</p><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> urlSP = <span class="keyword">new</span> URLSearchParams(location.search);</span><br><span class="line">function getQueryString(<span class="built_in">key</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> urlSP.<span class="built_in">get</span>(<span class="built_in">key</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> urlObj = <span class="keyword">new</span> URL(location.href);</span><br><span class="line">function getQueryString(<span class="built_in">key</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> urlObj.searchParams.<span class="built_in">get</span>(<span class="built_in">key</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">测试地址： /index.html?pid=<span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="built_in">log</span> = console.<span class="built_in">log</span>;</span><br><span class="line">getQueryString</span><br><span class="line"></span><br><span class="line"><span class="built_in">log</span>(<span class="string">&quot;pid&quot;</span>, getQueryString(<span class="string">&quot;pid&quot;</span>));  <span class="comment">// pid 10</span></span><br><span class="line"><span class="built_in">log</span>(<span class="string">&quot;cid&quot;</span>, getQueryString(<span class="string">&quot;cid&quot;</span>));  <span class="comment">// cid null</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="基于-atob-和-btoa-的-base64-编码和解码"><a href="#基于-atob-和-btoa-的-base64-编码和解码" class="headerlink" title="基于 atob 和 btoa 的 base64 编码和解码"></a>基于 atob 和 btoa 的 base64 编码和解码</h2><p>浏览器内置了 base64 编码和解码的能力</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> utf8<span class="constructor">_to_b64( <span class="params">str</span> )</span> &#123;</span><br><span class="line">  return window.btoa(unescape(encode<span class="constructor">URIComponent( <span class="params">str</span> )</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> b64<span class="constructor">_to_utf8( <span class="params">str</span> )</span> &#123;</span><br><span class="line">  return decode<span class="constructor">URIComponent(<span class="params">escape</span>(<span class="params">window</span>.<span class="params">atob</span>( <span class="params">str</span> )</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">utf8<span class="constructor">_to_b64(&#x27;✓ à <span class="params">la</span> <span class="params">mode</span>&#x27;)</span>; <span class="comment">// &quot;4pyTIMOgIGxhIG1vZGU=&quot;</span></span><br><span class="line">b64<span class="constructor">_to_utf8(&#x27;4pyTIMOgIGxhIG1vZGU=&#x27;)</span>; <span class="comment">// &quot;✓ à la mode&quot;</span></span><br></pre></td></tr></table></figure><h2 id="非正则替换的-html-代码-encode-和-decode"><a href="#非正则替换的-html-代码-encode-和-decode" class="headerlink" title="非正则替换的 html 代码 encode 和 decode"></a>非正则替换的 html 代码 encode 和 decode</h2><p>常规的方式是使用正则替换，这里是另外一种思路。</p><figure class="highlight nim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">function htmlencode(s)&#123;</span><br><span class="line">    <span class="keyword">var</span> <span class="keyword">div</span> = document.createElement(&#x27;<span class="keyword">div</span>&#x27;);</span><br><span class="line">    <span class="keyword">div</span>.appendChild(document.createTextNode(s));</span><br><span class="line">    <span class="keyword">var</span> <span class="literal">result</span> = <span class="keyword">div</span>.innerHTML;</span><br><span class="line">    <span class="keyword">div</span> = null;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">result</span>;</span><br><span class="line">&#125;</span><br><span class="line">function htmldecode(s)&#123;</span><br><span class="line">    <span class="keyword">var</span> <span class="keyword">div</span> = document.createElement(&#x27;<span class="keyword">div</span>&#x27;);</span><br><span class="line">    <span class="keyword">div</span>.innerHTML = s;</span><br><span class="line">    <span class="keyword">var</span> <span class="literal">result</span> = <span class="keyword">div</span>.innerText || <span class="keyword">div</span>.textContent;</span><br><span class="line">    <span class="keyword">div</span> = null;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">result</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">htmlencode(<span class="string">&quot;&lt;div&gt;3&gt;5 &amp; 666&lt;/div&gt;&quot;</span>); // &amp;lt;<span class="keyword">div</span>&amp;gt;<span class="number">3</span>&amp;gt;<span class="number">5</span> &amp;amp; <span class="number">666</span>&amp;lt;/<span class="keyword">div</span>&amp;gt;</span><br><span class="line">htmldecode(<span class="string">&quot;&amp;lt;div&amp;gt;3&amp;gt;5 &amp;amp; 666&amp;lt;/div&amp;gt;&quot;</span>) // &lt;<span class="keyword">div</span>&gt;<span class="number">3</span>&gt;<span class="number">5</span> &amp; <span class="number">666</span>&lt;/<span class="keyword">div</span>&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="相对地址转换为绝对地址"><a href="#相对地址转换为绝对地址" class="headerlink" title="相对地址转换为绝对地址"></a>相对地址转换为绝对地址</h2><p>基于当前页面的相对地址转换为绝对地址。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">realativeToAbs</span>(<span class="params">href</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> aEl = <span class="built_in">document</span>.createElement(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">    aEl.href = href;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> result = aEl.href;</span><br><span class="line">    aEl = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;realativeToAbs&quot;</span>, realativeToAbs(<span class="string">&quot;../a/b/b/index.html&quot;</span>));</span><br><span class="line"><span class="comment">// realativeToAbs http://127.0.0.1:5500/a/b/b/index.html</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="基于-URL-或者-Crypto-getRandomValues-生成-UUID"><a href="#基于-URL-或者-Crypto-getRandomValues-生成-UUID" class="headerlink" title="基于 URL 或者 Crypto.getRandomValues 生成 UUID"></a>基于 URL 或者 Crypto.getRandomValues 生成 UUID</h2><p>基于 URL.createObjectURL 或者 Crypto.getRandomValues<br>URL.createObjectURL 产生的地址为 blob:<span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvY2I0OGI5NDAtYzYyNS00MDBhLWEzOTMtMTc2YzM2MzUwMjBi">https://developer.mozilla.org/cb48b940-c625-400a-a393-176c3635020b<i class="fa fa-external-link-alt"></i></span>, 其后部分就是一个 UUI</p><figure class="highlight qml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方式一：</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">genUUID</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">   <span class="keyword">const</span> <span class="built_in">url</span> = URL.createObjectURL(<span class="keyword">new</span> Blob([]));</span><br><span class="line">   <span class="comment">// const uuid = url.split(&quot;/&quot;).pop();</span></span><br><span class="line">   <span class="keyword">const</span> uuid = <span class="built_in">url</span>.substring(<span class="built_in">url</span>.lastIndexOf(<span class="string">&#x27;/&#x27;</span>)+ <span class="number">1</span>);</span><br><span class="line">   URL.revokeObjectURL(<span class="built_in">url</span>);</span><br><span class="line">   <span class="keyword">return</span> uuid;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">genUUID() <span class="comment">// cd205467-0120-47b0-9444-894736d873c7</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//方式二：</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">uuidv4</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"> <span class="keyword">return</span> ([<span class="number">1e7</span>]+<span class="number">-1e3</span>+<span class="number">-4e3</span>+<span class="number">-8e3</span>+<span class="number">-1e11</span>).replace(<span class="regexp">/[018]/g</span>, c =&gt;</span><br><span class="line">   (c ^ crypto.getRandomValues(<span class="keyword">new</span> <span class="built_in">Uint8Array</span>(<span class="number">1</span>))[<span class="number">0</span>] &amp; <span class="number">15</span> &gt;&gt; c / <span class="number">4</span>).toString(<span class="number">16</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">uuidv4() <span class="comment">// 38aa1602-ba78-4368-9235-d8703cdb6037</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="基于-Array-from-的序列生成器"><a href="#基于-Array-from-的序列生成器" class="headerlink" title="基于 Array.from 的序列生成器"></a>基于 Array.from 的序列生成器</h2><p>造有序数据，无序数据，等等。</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> range = (start, stop, step) =&gt; Array.<span class="built_in">from</span>(</span><br><span class="line">    &#123; length: (stop - start) / step + <span class="number">1</span>&#125;,</span><br><span class="line">    (_, i) =&gt; start + (i * step)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="built_in">range</span>(<span class="number">0</span>, <span class="number">4</span>, <span class="number">1</span>); <span class="comment">// [0, 1, 2, 3, 4]</span></span><br><span class="line"><span class="built_in">range</span>(<span class="number">0</span>, <span class="number">9</span>, <span class="number">3</span>); <span class="comment">// [0, 3, 6, 9]</span></span><br><span class="line"><span class="built_in">range</span>(<span class="number">0</span>, <span class="number">8</span>, <span class="number">2.5</span>) <span class="comment">// [0, 2.5, 5, 7.5]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="基于-sendBeacon-的安全的数据上报"><a href="#基于-sendBeacon-的安全的数据上报" class="headerlink" title="基于 sendBeacon 的安全的数据上报"></a>基于 sendBeacon 的安全的数据上报</h2><p>sendBeacon 异步地向服务器发送数据，同时不会延迟页面的卸载或影响下一导航的载入性能。</p><figure class="highlight qml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">report</span>(<span class="params">url, data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> navigator.sendBeacon !== <span class="string">&quot;function&quot;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">console</span>.error(<span class="string">&quot;sendBeacon不被支持&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    navigator.sendBeacon(<span class="built_in">url</span>, data);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">&#x27;unload&#x27;</span>, logData, <span class="literal">false</span>);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">logData</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">   report(<span class="string">&quot;/log&quot;</span>, <span class="string">&quot;被卸载了&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="基于-toLocaleString-千分位"><a href="#基于-toLocaleString-千分位" class="headerlink" title="基于 toLocaleString 千分位"></a>基于 toLocaleString 千分位</h2><p>正则？ 遍历？ 不需要的。内置函数就解决。<br>当然，如果是超大的数，可能是会有问题的。</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> format<span class="constructor">Money(<span class="params">num</span>)</span>&#123;</span><br><span class="line">    return (+num).<span class="keyword">to</span><span class="constructor">LocaleString(<span class="string">&quot;en-US&quot;</span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">console.log(format<span class="constructor">Money(123456789)</span>);  <span class="comment">// 123,456,789</span></span><br><span class="line">console.log(format<span class="constructor">Money(6781)</span>) <span class="comment">// 6,781</span></span><br><span class="line">console.log(format<span class="constructor">Money(5)</span>) <span class="comment">// 5</span></span><br><span class="line"></span><br><span class="line">超大的数</span><br><span class="line">format<span class="constructor">Money(19999999933333333333333)</span> <span class="comment">// 19,999,999,933,333,333,000,000</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="Promise-顺序执行"><a href="#Promise-顺序执行" class="headerlink" title="Promise 顺序执行"></a>Promise 顺序执行</h2><p>让 Promise 顺序的执行，并支持初始化参数和结果作为参数传递。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">runPromises</span>(<span class="params">promiseCreators, initData</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> promiseCreators</span><br><span class="line">        .reduce(<span class="function">(<span class="params">promise, next</span>) =&gt;</span> promise</span><br><span class="line">                .then(<span class="function">(<span class="params">data</span>) =&gt;</span> next(data))</span><br><span class="line">            , <span class="built_in">Promise</span>.resolve(initData));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> promise1 = <span class="function"><span class="keyword">function</span> (<span class="params">data = <span class="number">0</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">        resolve(data + <span class="number">1000</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> promise2 = <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">        resolve(data -<span class="number">500</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">runPromises([promise1, promise2], <span class="number">1</span>).then(<span class="function"><span class="params">res</span>=&gt;</span><span class="built_in">console</span>.log(res));</span><br></pre></td></tr></table></figure><h2 id="延时执行-delay"><a href="#延时执行-delay" class="headerlink" title="延时执行 delay"></a>延时执行 delay</h2><p>延时执行某函数，且只会执行一次。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">delay</span>(<span class="params">fn = () =&gt; &#123; &#125;, delay = <span class="number">5000</span>, context = <span class="literal">null</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> ticket = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">let</span> runned = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="function"><span class="title">run</span>(<span class="params">...args</span>)</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (runned === <span class="literal">true</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                runned = <span class="literal">true</span>;</span><br><span class="line">                ticket = <span class="built_in">setTimeout</span>(<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        <span class="keyword">const</span> res = <span class="keyword">await</span> fn.apply(context, args);</span><br><span class="line">                        resolve(res);</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">                        reject(err)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;, delay)</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">cancel</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">clearTimeout</span>(ticket);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">delay(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;你们好&quot;</span>);</span><br><span class="line">&#125;).run();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123; run, cancel &#125; = delay(<span class="function"><span class="keyword">function</span> (<span class="params">name</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;你好：&quot;</span>, name);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">run(<span class="string">&quot;吉他&quot;</span>);</span><br><span class="line">run(<span class="string">&quot;吉他&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 你们好</span></span><br><span class="line"><span class="comment">// 你好： 吉他</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="滑滚动页面到顶部"><a href="#滑滚动页面到顶部" class="headerlink" title="滑滚动页面到顶部"></a>滑滚动页面到顶部</h2><p>PC 端滚动的根元素是 document.documentElement,<br>移动端滚动的的根元素是 document.body,<br>有一个更好的属性 document.scrollingElement 能自己识别文档的滚动元素， 其在 PC 端等于 document.documentElement, 其在移动端等于 document.body</p><figure class="highlight openscad"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// smooth 选项在Safari上支持不好</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">scrollToTop</span><span class="params">()</span>&#123;</span></span><br><span class="line">   window.scrollTo(&#123;</span><br><span class="line">       left: <span class="number">0</span>,</span><br><span class="line">       top: <span class="number">0</span>,</span><br><span class="line">       behavior: &#x27;smooth</span><br><span class="line">   &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">scrollToTop</span><span class="params">()</span> &#123;</span></span><br><span class="line">   <span class="built_in">let</span> scrollTop = document.documentElement.scrollTop || document.body.scrollTop;</span><br><span class="line">   <span class="keyword">if</span> (scrollTop &gt; <span class="number">0</span>) &#123;</span><br><span class="line">       window.requestAnimationFrame(scrollToTop);</span><br><span class="line">       window.scrollTo(<span class="number">0</span>, scrollTop - scrollTop / <span class="number">8</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="禁止选择和复制"><a href="#禁止选择和复制" class="headerlink" title="禁止选择和复制"></a>禁止选择和复制</h2><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">&#x27;contextmenu&#x27;</span>, <span class="string">&#x27;selectstart&#x27;</span>, <span class="string">&#x27;copy&#x27;</span>].<span class="keyword">forEach</span>(<span class="keyword">function</span>(ev)&#123;</span><br><span class="line">    document.addEventListener(ev, <span class="keyword">function</span>(ev)&#123;</span><br><span class="line">        ev.preventDefault();</span><br><span class="line">        ev.returnValue = <span class="keyword">false</span>;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//当然也有CSS方案</span><br><span class="line">body &#123;</span><br><span class="line">    -moz-<span class="keyword">user</span>-<span class="keyword">select</span>: <span class="keyword">none</span>;</span><br><span class="line">    -webkit-<span class="keyword">user</span>-<span class="keyword">select</span>: <span class="keyword">none</span>;</span><br><span class="line">    -ms-<span class="keyword">user</span>-<span class="keyword">select</span>: <span class="keyword">none</span>;</span><br><span class="line">    -khtml-<span class="keyword">user</span>-<span class="keyword">select</span>: <span class="keyword">none</span>;</span><br><span class="line">    <span class="keyword">user</span>-<span class="keyword">select</span>: <span class="keyword">none</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="禁止图片拖拽"><a href="#禁止图片拖拽" class="headerlink" title="禁止图片拖拽"></a>禁止图片拖拽</h2><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">[&#x27;<span class="identifier">dragstart</span>&#x27;]</span>.<span class="keyword">for</span><span class="constructor">Each(<span class="params">function</span>(<span class="params">ev</span>)</span>&#123;</span><br><span class="line">    document.add<span class="constructor">EventListener(<span class="params">ev</span>, <span class="params">function</span>(<span class="params">ev</span>)</span>&#123;</span><br><span class="line">        ev.prevent<span class="constructor">Default()</span>;</span><br><span class="line">        ev.returnValue = <span class="literal">false</span>;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="自增长-ID"><a href="#自增长-ID" class="headerlink" title="自增长 ID"></a>自增长 ID</h2><p>自己生产自增长的 ID 值，当然可以更复杂一些。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> id = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getId</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> id++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(getId()); <span class="comment">// 1</span></span><br><span class="line"><span class="built_in">console</span>.log(getId()); <span class="comment">// 2</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="判断是否是手机号"><a href="#判断是否是手机号" class="headerlink" title="判断是否是手机号"></a>判断是否是手机号</h2><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isPoneAvailable</span>(<span class="params">pone</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> myreg = <span class="regexp">/^[1][3,4,5,6,7,8,9][0-9]&#123;9&#125;$/</span>;</span><br><span class="line">  <span class="keyword">if</span> (!myreg.test(pone)) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="判断是否是电话"><a href="#判断是否是电话" class="headerlink" title="判断是否是电话"></a>判断是否是电话</h2><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">isTelAvailable</span> (<span class="params">tel</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> myreg = <span class="regexp">/^(([0\+]\d&#123;2,3&#125;-)?(0\d&#123;2,3&#125;)-)(\d&#123;7,8&#125;)(-(\d&#123;3,&#125;))?$/</span>;</span><br><span class="line">  <span class="keyword">if</span> (!myreg.test(tel)) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="计算文件有多大"><a href="#计算文件有多大" class="headerlink" title="计算文件有多大"></a>计算文件有多大</h2><figure class="highlight qml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//计算文件多大，字节转mb</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">renderFileSize</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(<span class="literal">null</span>==value||value==<span class="string">&#x27;&#x27;</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;0 Bytes&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">var</span> unitArr = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">&quot;Bytes&quot;</span>,<span class="string">&quot;KB&quot;</span>,<span class="string">&quot;MB&quot;</span>,<span class="string">&quot;GB&quot;</span>,<span class="string">&quot;TB&quot;</span>,<span class="string">&quot;PB&quot;</span>,<span class="string">&quot;EB&quot;</span>,<span class="string">&quot;ZB&quot;</span>,<span class="string">&quot;YB&quot;</span>);</span><br><span class="line">  <span class="keyword">var</span> index=<span class="number">0</span>,</span><br><span class="line">      srcsize = <span class="built_in">parseFloat</span>(value);</span><br><span class="line">  index=<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.log(srcsize)/<span class="built_in">Math</span>.log(<span class="number">1024</span>));</span><br><span class="line">  <span class="keyword">var</span> <span class="built_in">size</span> =srcsize/<span class="built_in">Math</span>.pow(<span class="number">1024</span>,index);</span><br><span class="line">  <span class="comment">//  保留的小数位数</span></span><br><span class="line">  <span class="built_in">size</span>=<span class="built_in">size</span>.toFixed(<span class="number">2</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">size</span>+unitArr[index];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="生成-guid"><a href="#生成-guid" class="headerlink" title="生成 guid"></a>生成 guid</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">createGuid</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&#x27;xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx&#x27;</span>.replace(<span class="regexp">/[xy]/g</span>, <span class="function"><span class="keyword">function</span> (<span class="params">c</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> r = <span class="built_in">Math</span>.random() * <span class="number">16</span> | <span class="number">0</span>,</span><br><span class="line">        v = c === <span class="string">&#x27;x&#x27;</span> ? r : (r &amp; <span class="number">0x3</span> | <span class="number">0x8</span>);</span><br><span class="line">    <span class="keyword">return</span> v.toString(<span class="number">16</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="param-转-object"><a href="#param-转-object" class="headerlink" title="param 转 object"></a>param 转 object</h2><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">export <span class="keyword">function</span> param2Obj(url) &#123;</span><br><span class="line">  const <span class="keyword">search</span> = decodeURIComponent(url.split(<span class="string">&#x27;?&#x27;</span>)[<span class="number">1</span>]).replace(/\+/g, <span class="string">&#x27; &#x27;</span>)</span><br><span class="line">  <span class="keyword">if</span> (!<span class="keyword">search</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">  const obj = &#123;&#125;</span><br><span class="line">  const searchArr = <span class="keyword">search</span>.split(<span class="string">&#x27;&amp;&#x27;</span>)</span><br><span class="line">  searchArr.<span class="keyword">forEach</span>(v =&gt; &#123;</span><br><span class="line">    const <span class="keyword">index</span> = v.indexOf(<span class="string">&#x27;=&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">index</span> !== <span class="number">-1</span>) &#123;</span><br><span class="line">      const <span class="type">name</span> = v.substring(<span class="number">0</span>, <span class="keyword">index</span>)</span><br><span class="line">      const val = v.substring(<span class="keyword">index</span> + <span class="number">1</span>, v.length)</span><br><span class="line">      obj[<span class="type">name</span>] = val</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> obj</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export <span class="keyword">function</span> param(<span class="type">json</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (!<span class="type">json</span>) <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="keyword">return</span> cleanArray(</span><br><span class="line">    <span class="keyword">Object</span>.keys(<span class="type">json</span>).map(key =&gt; &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="type">json</span>[key] === undefined) <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">      <span class="keyword">return</span> encodeURIComponent(key) + <span class="string">&#x27;=&#x27;</span> + encodeURIComponent(<span class="type">json</span>[key])</span><br><span class="line">    &#125;)</span><br><span class="line">  ).<span class="keyword">join</span>(<span class="string">&#x27;&amp;&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="1-将彻底屏蔽鼠标右键"><a href="#1-将彻底屏蔽鼠标右键" class="headerlink" title="1. 将彻底屏蔽鼠标右键"></a>1. 将彻底屏蔽鼠标右键</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">oncontextmenu=”<span class="built_in">window</span>.event.returnValue=<span class="literal">false</span>”</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt; table border oncontextmenu=return(false)&gt;&lt; td&gt;no&lt; /table&gt;</span><br></pre></td></tr></table></figure><p>可用于 table</p><h2 id="2-取消选取、防止复制"><a href="#2-取消选取、防止复制" class="headerlink" title="2. 取消选取、防止复制"></a>2. 取消选取、防止复制</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt; body onselectstart=”return false”&gt;</span><br></pre></td></tr></table></figure><h2 id="3-JS-不允许粘贴"><a href="#3-JS-不允许粘贴" class="headerlink" title="3. JS 不允许粘贴"></a>3. JS 不允许粘贴</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">onpaste=”<span class="keyword">return</span> <span class="literal">false</span>”</span><br></pre></td></tr></table></figure><h2 id="4-JS-防止复制"><a href="#4-JS-防止复制" class="headerlink" title="4. JS 防止复制"></a>4. JS 防止复制</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">oncopy=”<span class="keyword">return</span> <span class="literal">false</span>;” oncut=”<span class="keyword">return</span> <span class="literal">false</span>;”</span><br></pre></td></tr></table></figure><h2 id="5-IE-地址栏前换成自己的图标"><a href="#5-IE-地址栏前换成自己的图标" class="headerlink" title="5. IE 地址栏前换成自己的图标"></a>5. IE 地址栏前换成自己的图标</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt; link rel=”Shortcut Icon” href=”favicon.ico”&gt;</span><br></pre></td></tr></table></figure><p>在文件的根目录放进去这个图片，后缀修改成 ico 就可以了</p><h2 id="6-可以在收藏夹中显示出你的图标"><a href="#6-可以在收藏夹中显示出你的图标" class="headerlink" title="6. 可以在收藏夹中显示出你的图标"></a>6. 可以在收藏夹中显示出你的图标</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt; link rel=”Bookmark” href=”favicon.ico”&gt;</span><br></pre></td></tr></table></figure><h2 id="7-关闭输入法"><a href="#7-关闭输入法" class="headerlink" title="7. 关闭输入法"></a>7. 关闭输入法</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt; input style=”ime-mode:disabled”&gt;</span><br></pre></td></tr></table></figure><h2 id="8-永远都会带着框架"><a href="#8-永远都会带着框架" class="headerlink" title="8. 永远都会带着框架"></a>8. 永远都会带着框架</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt; script language=”JavaScript”&gt;&lt; !– if (window == top)top.location.href = “frames.htm”; //frames.htm</span><br><span class="line">为框架网页 // –&gt;&lt; /script&gt;</span><br></pre></td></tr></table></figure><h2 id="9-防止被人-frame"><a href="#9-防止被人-frame" class="headerlink" title="9. 防止被人 frame"></a>9. 防止被人 frame</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt; SCRIPT LANGUAGE=JAVASCRIPT&gt;&lt; !– if (top.location != self.location)top.location=self.location; //</span><br><span class="line">–&gt;&lt; /SCRIPT&gt;</span><br></pre></td></tr></table></figure><h2 id="10-网页将不能被另存为"><a href="#10-网页将不能被另存为" class="headerlink" title="10. 网页将不能被另存为"></a>10. 网页将不能被另存为</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt; noscript&gt;&lt; iframe src=x.html&gt;&lt; /iframe&gt;&lt; /noscript&gt;</span><br></pre></td></tr></table></figure><h2 id="11-网页源代码"><a href="#11-网页源代码" class="headerlink" title="11. 网页源代码"></a>11. 网页源代码</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt; input type=button value=查看网页源代码 onclick=”window.location = “view-source:”+</span><br><span class="line">“http://www.csxiaoyao.com””&gt;</span><br></pre></td></tr></table></figure><h2 id="12-删除时确认"><a href="#12-删除时确认" class="headerlink" title="12. 删除时确认"></a>12. 删除时确认</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt; a href=”javascript:if(confirm(” 确实要删除吗?”))location=”boos.asp?&amp;areyou=删除&amp;page=1″”&gt;删除&lt; /a&gt;</span><br></pre></td></tr></table></figure><h2 id="13-取得控件的绝对位置"><a href="#13-取得控件的绝对位置" class="headerlink" title="13. 取得控件的绝对位置"></a>13. 取得控件的绝对位置</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getIE</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> t=e.offsetTop;</span><br><span class="line">    <span class="keyword">var</span> l=e.offsetLeft;</span><br><span class="line">		<span class="keyword">while</span>(e=e.offsetParent)&#123;</span><br><span class="line">		t+=e.offsetTop;</span><br><span class="line">		l+=e.offsetLeft;</span><br><span class="line">	&#125;</span><br><span class="line">	alert(“top=”+t+”/nleft=”+l);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight vbscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt; script language=”VBScript”&gt;&lt; !–</span><br><span class="line"><span class="keyword">function</span> getIE()</span><br><span class="line"><span class="keyword">dim</span> t,l,a,b</span><br><span class="line"><span class="keyword">set</span> a=document.all.img1</span><br><span class="line">t=document.all.img1.offsetTop</span><br><span class="line">l=document.all.img1.offsetLeft</span><br><span class="line"><span class="keyword">while</span> a.tagName&lt; &gt;”BODY”</span><br><span class="line"><span class="keyword">set</span> a = a.offsetParent</span><br><span class="line">t=t+a.offsetTop</span><br><span class="line">l=l+a.offsetLeft</span><br><span class="line"><span class="keyword">wend</span></span><br><span class="line">msgbox “top=”&amp;t&amp;<span class="built_in">chr</span>(<span class="number">13</span>)&amp;”left=”&amp;l,<span class="number">64</span>,”得到控件的位置”</span><br><span class="line"><span class="keyword">end</span> <span class="keyword">function</span></span><br><span class="line">–&gt;&lt; /script&gt;</span><br></pre></td></tr></table></figure><h2 id="14-光标是停在文本框文字的最后"><a href="#14-光标是停在文本框文字的最后" class="headerlink" title="14. 光标是停在文本框文字的最后"></a>14. 光标是停在文本框文字的最后</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt; script language=”javascript”&gt;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cc</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">var</span> e = event.srcElement;</span><br><span class="line"><span class="keyword">var</span> r =e.createTextRange();</span><br><span class="line">r.moveStart(“character”,e.value.length);</span><br><span class="line">r.collapse(<span class="literal">true</span>);</span><br><span class="line">r.select();</span><br><span class="line">&#125;</span><br><span class="line">&lt; /script&gt;</span><br><span class="line">&lt; input type=text name=text1 value=”<span class="number">123</span>″ onfocus=”cc()”&gt;</span><br></pre></td></tr></table></figure><h2 id="15-判断上一页的来源"><a href="#15-判断上一页的来源" class="headerlink" title="15. 判断上一页的来源"></a>15. 判断上一页的来源</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">javascript: <span class="built_in">document</span>.referrer</span><br></pre></td></tr></table></figure><h2 id="16-最小化、最大化、关闭窗口"><a href="#16-最小化、最大化、关闭窗口" class="headerlink" title="16. 最小化、最大化、关闭窗口"></a>16. 最小化、最大化、关闭窗口</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt; object id=hh1 classid=”clsid:ADB880A6-D8FF-11CF-9377-00AA003B7A11″&gt; &lt; param name=&quot;Command&quot;</span><br><span class="line">value=&quot;Minimize&quot;&gt;&lt; /object&gt; &lt; object id=hh2 classid=&quot;clsid:ADB880A6-D8FF-11CF-9377-00AA003B7A11″&gt; &lt;</span><br><span class="line">param name=&quot;Command&quot; value=&quot;Maximize&quot;&gt;&lt; /object&gt; &lt; OBJECT id=hh3</span><br><span class="line">classid=&quot;clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11″&gt; &lt; PARAM NAME=&quot;Command&quot; VALUE=&quot;Close&quot;&gt;&lt;</span><br><span class="line">/OBJECT&gt; &lt; input type=button value=最小化 onclick=hh1.Click()&gt; &lt; input type=button value=最大化</span><br><span class="line">onclick=hh2.Click()&gt; &lt; input type=button value=关闭 onclick=hh3.Click()&gt;</span><br></pre></td></tr></table></figure><p>本例适用于 IE</p><h2 id="17-屏蔽功能键-Shift-Alt-Ctrl"><a href="#17-屏蔽功能键-Shift-Alt-Ctrl" class="headerlink" title="17. 屏蔽功能键 Shift,Alt,Ctrl"></a>17. 屏蔽功能键 Shift,Alt,Ctrl</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt; script&gt;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">look</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">if</span>(event.shiftKey)</span><br><span class="line">alert(“禁止按 Shift 键!”); <span class="comment">//可以换成 ALT CTRL</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">document</span>.onkeydown=look;</span><br><span class="line">&lt; /script&gt;</span><br></pre></td></tr></table></figure><h2 id="18-网页不会被缓存"><a href="#18-网页不会被缓存" class="headerlink" title="18. 网页不会被缓存"></a>18. 网页不会被缓存</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt; META HTTP-EQUIV=”pragma” CONTENT=”no-cache”&gt; &lt; META HTTP-EQUIV=”Cache-Control” CONTENT=”no-cache,</span><br><span class="line">must-revalidate”&gt; &lt; META HTTP-EQUIV=”expires” CONTENT=”Wed, 26 Feb 1997 08:21:57 GMT”&gt; 或者&lt; META</span><br><span class="line">HTTP-EQUIV=”expires” CONTENT=”0″&gt;</span><br></pre></td></tr></table></figure><h2 id="19-怎样让表单没有凹凸感"><a href="#19-怎样让表单没有凹凸感" class="headerlink" title="19. 怎样让表单没有凹凸感"></a>19. 怎样让表单没有凹凸感</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt; input type=text style=”border:1 solid #000000″&gt; 或 &lt; input type=text style=”border-left:none;</span><br><span class="line">border-right:none; border-top:none; border-bottom: 1 solid #000000″&gt;&lt; /textarea&gt;</span><br></pre></td></tr></table></figure><h2 id="20-lt-div-gt-lt-span-gt-amp-lt-layer-gt-的区别"><a href="#20-lt-div-gt-lt-span-gt-amp-lt-layer-gt-的区别" class="headerlink" title="20. &lt; div&gt;&lt; span&gt;&amp;&lt; layer&gt;的区别?"></a>20. &lt; div&gt;&lt; span&gt;&amp;&lt; layer&gt;的区别?</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt; div&gt;(division)用来定义大段的页面元素，会产生转行 &lt; span&gt;用来定义同一行内的元素，跟&lt;</span><br><span class="line">div&gt;的唯一区别是不产生转行 &lt; layer&gt;是 ns 的标记，ie 不支持，相当于&lt; div&gt;</span><br></pre></td></tr></table></figure><h2 id="21-让弹出窗口总是在最上面"><a href="#21-让弹出窗口总是在最上面" class="headerlink" title="21. 让弹出窗口总是在最上面"></a>21. 让弹出窗口总是在最上面</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt; body onblur=”this.focus();”&gt;</span><br></pre></td></tr></table></figure><h2 id="22-不要滚动条"><a href="#22-不要滚动条" class="headerlink" title="22. 不要滚动条"></a>22. 不要滚动条</h2><p>让竖条没有:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt; body style=”overflow:scroll;overflow-y:hidden”&gt;&lt; /body&gt;</span><br></pre></td></tr></table></figure><p>让横条没有:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt; body style=”overflow:scroll;overflow-x:hidden”&gt;&lt; /body&gt;</span><br></pre></td></tr></table></figure><p>两个都去掉？更简单了</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt; body scroll=”no”&gt;&lt; /body&gt;</span><br></pre></td></tr></table></figure><h2 id="23-怎样去掉图片链接点击后，图片周围的虚线？"><a href="#23-怎样去掉图片链接点击后，图片周围的虚线？" class="headerlink" title="23. 怎样去掉图片链接点击后，图片周围的虚线？"></a>23. 怎样去掉图片链接点击后，图片周围的虚线？</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt; a href=”#” onFocus=”this.blur()”&gt;&lt; img src=”logo.jpg” border=0&gt;&lt; /a&gt;</span><br></pre></td></tr></table></figure><h2 id="24-电子邮件处理提交表单"><a href="#24-电子邮件处理提交表单" class="headerlink" title="24. 电子邮件处理提交表单"></a>24. 电子邮件处理提交表单</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt; form name=”form1″ method=&quot;post&quot; action=”mailto:sunjianfeng@csxiaoyao.com” enctype=”text/plain”&gt; &lt;</span><br><span class="line">input type=submit&gt; &lt; /form&gt;</span><br></pre></td></tr></table></figure><h2 id="25-在打开的子窗口刷新父窗口的代码里如何写？"><a href="#25-在打开的子窗口刷新父窗口的代码里如何写？" class="headerlink" title="25. 在打开的子窗口刷新父窗口的代码里如何写？"></a>25. 在打开的子窗口刷新父窗口的代码里如何写？</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.opener.location.reload()</span><br></pre></td></tr></table></figure><h2 id="26-如何设定打开页面的大小"><a href="#26-如何设定打开页面的大小" class="headerlink" title="26. 如何设定打开页面的大小"></a>26. 如何设定打开页面的大小</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt; body onload=”top.resizeTo(300,200);”&gt;</span><br></pre></td></tr></table></figure><p>打开页面的位置</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt; body onload=”top.moveBy(300,200);”&gt;</span><br></pre></td></tr></table></figure><h2 id="27-在页面中如何加入不是满铺的背景图片-拉动页面时背景图不动"><a href="#27-在页面中如何加入不是满铺的背景图片-拉动页面时背景图不动" class="headerlink" title="27. 在页面中如何加入不是满铺的背景图片,拉动页面时背景图不动"></a>27. 在页面中如何加入不是满铺的背景图片,拉动页面时背景图不动</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt; STYLE&gt; body &#123;background-image:none; background-repeat:no-repeat;</span><br><span class="line">background-position:center;background-attachment: fixed&#125; &lt; /STYLE&gt;</span><br></pre></td></tr></table></figure><h2 id="28-检查一段字符串是否全由数字组成"><a href="#28-检查一段字符串是否全由数字组成" class="headerlink" title="28. 检查一段字符串是否全由数字组成"></a>28. 检查一段字符串是否全由数字组成</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt; script language=”Javascript”&gt;&lt; !– function checkNum(str)&#123;return str.match(//D/)==null&#125;</span><br><span class="line">alert(checkNum(“1232142141”)) alert(checkNum(“123214214a1”)) // –&gt;&lt; /script&gt;</span><br></pre></td></tr></table></figure><h2 id="29-获得一个窗口的大小"><a href="#29-获得一个窗口的大小" class="headerlink" title="29. 获得一个窗口的大小"></a>29. 获得一个窗口的大小</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.body.clientWidth</span><br><span class="line"><span class="built_in">document</span>.body.clientHeight</span><br></pre></td></tr></table></figure><h2 id="30-怎么判断是否是字符"><a href="#30-怎么判断是否是字符" class="headerlink" title="30. 怎么判断是否是字符"></a>30. 怎么判断是否是字符</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="regexp">/[^/x00-/xff]/g</span>.test(s)) alert(“含有汉字”);</span><br><span class="line"><span class="keyword">else</span> alert(“全是字符”);</span><br></pre></td></tr></table></figure><h2 id="31-TEXTAREA-自适应文字行数的多少"><a href="#31-TEXTAREA-自适应文字行数的多少" class="headerlink" title="31.TEXTAREA 自适应文字行数的多少"></a>31.TEXTAREA 自适应文字行数的多少</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt; textarea rows=1 name=s1 cols=27 onpropertychange=”this.style.posHeight=this.scrollHeight”&gt; &lt;</span><br><span class="line">/textarea&gt;</span><br></pre></td></tr></table></figure><h2 id="32-日期减去天数等于第二个日期"><a href="#32-日期减去天数等于第二个日期" class="headerlink" title="32. 日期减去天数等于第二个日期"></a>32. 日期减去天数等于第二个日期</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt; script language=Javascript&gt;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cc</span>(<span class="params">dd,dadd</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//可以加上错误处理</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> <span class="built_in">Date</span>(dd)</span><br><span class="line">a = a.valueOf()</span><br><span class="line">a = a – dadd * <span class="number">24</span> * <span class="number">60</span> * <span class="number">60</span> * <span class="number">1000</span></span><br><span class="line">a = <span class="keyword">new</span> <span class="built_in">Date</span>(a)</span><br><span class="line">alert(a.getFullYear() + “年” + (a.getMonth() + <span class="number">1</span>) + “月” + a.getDate() + “日”)</span><br><span class="line">&#125;</span><br><span class="line">cc(“<span class="number">12</span>/<span class="number">23</span>/<span class="number">2002</span>”,<span class="number">2</span>)</span><br><span class="line">&lt; /script&gt;</span><br></pre></td></tr></table></figure><h2 id="33-选择了哪一个-Radio"><a href="#33-选择了哪一个-Radio" class="headerlink" title="33. 选择了哪一个 Radio"></a>33. 选择了哪一个 Radio</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt; HTML&gt;&lt; script language=”vbscript”&gt; function checkme() for each ob in radio1 if ob.checked then</span><br><span class="line">window.alert ob.value next end function &lt; /script&gt;&lt; BODY&gt; &lt; INPUT name=”radio1″ type=”radio”</span><br><span class="line">value=”style” checked&gt;Style &lt; INPUT name=”radio1″ type=”radio” value=”barcode”&gt;Barcode &lt; INPUT</span><br><span class="line">type=”button” value=”check” onclick=”checkme()”&gt; &lt; /BODY&gt;&lt; /HTML&gt;</span><br></pre></td></tr></table></figure><h2 id="34-脚本永不出错"><a href="#34-脚本永不出错" class="headerlink" title="34. 脚本永不出错"></a>34. 脚本永不出错</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt; SCRIPT LANGUAGE=”JavaScript”&gt; &lt; !– Hide function killErrors() &#123; return true; &#125; window.onerror =</span><br><span class="line">killErrors; // –&gt; &lt; /SCRIPT&gt;</span><br></pre></td></tr></table></figure><h2 id="35-ENTER-键可以让光标移到下一个输入框"><a href="#35-ENTER-键可以让光标移到下一个输入框" class="headerlink" title="35. ENTER 键可以让光标移到下一个输入框"></a>35. ENTER 键可以让光标移到下一个输入框</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt; input onkeydown=”if(event.keyCode==13)event.keyCode=9″&gt;</span><br></pre></td></tr></table></figure><h2 id="36-检测某个网站的链接速度"><a href="#36-检测某个网站的链接速度" class="headerlink" title="36. 检测某个网站的链接速度"></a>36. 检测某个网站的链接速度</h2><p>把如下代码加入&lt; body&gt;区域中:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt; script language=Javascript&gt; tim=1 setInterval(“tim++”,100) b=1 var autourl=new Array()</span><br><span class="line">autourl[1]=”www.csxiaoyao.com” autourl[2]=”www.baidu.com” autourl[3]=”www.sina.com.cn”</span><br><span class="line">autourl[4]=”blog.csxiaoyao.com” autourl[5]=”www.cctv.com” function butt()&#123; document.write(“&lt; form</span><br><span class="line">name=autof&gt;”) for(var i=1;i&lt; autourl.length;i++) document.write(“&lt; input type=text name=txt”+i+”</span><br><span class="line">size=10 value=测试中……&gt; =》&lt; input type=text name=url”+i+” size=40&gt; =》&lt; input type=button value=GO</span><br><span class="line">onclick=window.open(this.form.url”+i+”.value)&gt; “) document.write(“&lt; input type=submit value=刷新&gt;&lt;</span><br><span class="line">/form&gt;”) &#125; butt() function auto(url)&#123; document.forms[0][“url”+b].value=url if(tim&gt;200)</span><br><span class="line">&#123;document.forms[0][“txt”+b].value=”链接超时”&#125; else</span><br><span class="line">&#123;document.forms[0][“txt”+b].value=”时间”+tim/10+”秒”&#125; b++ &#125; function run()&#123;for(var i=1;i&lt;</span><br><span class="line">autourl.length;i++)document.write(“&lt; img src=http://”+autourl+”/”+Math.random()+” width=1 height=1</span><br><span class="line">onerror=auto(“http://”+autourl+””)&gt;”)&#125; run()&lt; /script&gt;</span><br></pre></td></tr></table></figure><h2 id="37-各种样式的光标"><a href="#37-各种样式的光标" class="headerlink" title="37. 各种样式的光标"></a>37. 各种样式的光标</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">auto ：标准光标</span><br><span class="line"><span class="keyword">default</span> ：标准箭头</span><br><span class="line">hand ：手形光标</span><br><span class="line">wait ：等待光标</span><br><span class="line">text ：I 形光标</span><br><span class="line">vertical-text ：水平 I 形光标</span><br><span class="line">no-drop ：不可拖动光标</span><br><span class="line">not-allowed ：无效光标</span><br><span class="line">help ：?帮助光标</span><br><span class="line">all-scroll ：三角方向标</span><br><span class="line">move ：移动标</span><br><span class="line">crosshair ：十字标</span><br><span class="line">e-resize</span><br><span class="line">n-resize</span><br><span class="line">nw-resize</span><br><span class="line">w-resize</span><br><span class="line">s-resize</span><br><span class="line">se-resize</span><br><span class="line">sw-resize</span><br></pre></td></tr></table></figure><h2 id="38-页面进入和退出的特效"><a href="#38-页面进入和退出的特效" class="headerlink" title="38. 页面进入和退出的特效"></a>38. 页面进入和退出的特效</h2><p>进入页面&lt; meta http-equiv=”Page-Enter” content=”revealTrans(duration=x, transition=y)”&gt;<br>推出页面&lt; meta http-equiv=”Page-Exit” content=”revealTrans(duration=x, transition=y)”&gt;<br>这个是页面被载入和调出时的一些特效。duration 表示特效的持续时间，以秒为单位。<br>transition 表示使用哪种特效，取值为<br>1-23:<br>0 矩形缩小<br>1 矩形扩大<br>2 圆形缩小<br>3 圆形扩大<br>4 下到上刷新<br>5 上到下刷新<br>6 左到右刷新<br>7 右到左刷新<br>8 竖百叶窗<br>9 横百叶窗<br>10 错位横百叶窗<br>11 错位竖百叶窗<br>12 点扩散<br>13 左右到中间刷新<br>14 中间到左右刷新<br>15 中间到上下<br>16 上下到中间<br>17 右下到左上<br>18 右上到左下<br>19 左上到右下<br>20 左下到右上<br>21 横条<br>22 竖条<br>23 以上 22 种随机选择一种</p><h2 id="39-在规定时间内跳转"><a href="#39-在规定时间内跳转" class="headerlink" title="39. 在规定时间内跳转"></a>39. 在规定时间内跳转</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt; META http-equiv=V=”REFRESH” content=”5;URL=http://www.csxiaoyao.com”&gt;</span><br></pre></td></tr></table></figure><h2 id="40-网页是否被检索"><a href="#40-网页是否被检索" class="headerlink" title="40. 网页是否被检索"></a>40. 网页是否被检索</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt; meta name=”ROBOTS” content=”属性值”&gt;</span><br></pre></td></tr></table></figure><p>其中属性值有以下一些:<br>属性值为”all”: 文件将被检索，且页上链接可被查询；<br>属性值为”none”: 文件不被检索，而且不查询页上的链接；<br>属性值为”index”: 文件将被检索；<br>属性值为”follow”: 查询页上的链接；<br>属性值为”noindex”: 文件不检索，但可被查询链接；<br>属性值为”nofollow”: 文件不被检索，但可查询页上的链接。</p><h2 id="41-回车"><a href="#41-回车" class="headerlink" title="41. 回车"></a>41. 回车</h2><p>用客户端脚本在页面添加 document 的 onkeydown 事件,让页面在接受到回车事件后,进行 Tab<br>键的功能,即只要把 event 的 keyCode 由 13 变为 9<br>这样的处理方式,可以实现焦点往下移动,但对于按钮也起同样的作用,一般的客户在输入完<br>资料以后,跳到按钮后,最好能直接按”回车”进行数据的提交.因此,对上面的方法要进行一下<br>修改,应该对于”提交”按钮不进行焦点转移.而直接激活提交.<br>判断是否为 button, 是因为在 HTML 上会有 type=”button”<br>判断是否为 submit,是因为 HTML 上会有 type=”submit”<br>判断是否为 reset,是因为 HTML 上的”重置”应该要被执行<br>判断是否为空,是因为对于 HTML 上的”链接”也应该被执行，这种情况发生的情况不多，可以使用”tabindex=-1″的方式来取消链接获得焦点</p></div><div class="reward-container"><div>如果觉得文章有帮助，就请吃个雪糕吧~</div><button onclick='var qr=document.getElementById("qr");qr.style.display="none"===qr.style.display?"block":"none"'>打赏</button><div id="qr" style="display:none"><div style="display:inline-block"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/my.jpg" alt="很帅很愁人~ 微信支付"><p>微信支付</p></div></div></div><div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者： </strong>很帅很愁人~</li><li class="post-copyright-link"><strong>本文链接：</strong> <a href="https://blog.wy1991.cn/20210629/16-js-%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7utils/" title="js 常用工具utils">https://blog.wy1991.cn/20210629/16-js-常用工具utils/</a></li><li class="post-copyright-license"><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC8="><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li><li class="post-copyright-license"><strong>联系方式： </strong>如文章有错误，请联系qq：598204996 谢谢~</li></ul></div><footer class="post-footer"><div class="post-tags"><a href="/tags/js/" rel="tag"># js</a> <a href="/tags/utils/" rel="tag"># utils</a></div><div class="post-nav"><div class="post-nav-item"><a href="/20210629/12-js-call-apply-bind%E5%8C%BA%E5%88%AB/" rel="prev" title="js-call/apply/bind区别"><i class="fa fa-chevron-left"></i> js-call/apply/bind区别</a></div><div class="post-nav-item"><a href="/20210629/52-Vue-%E4%BF%9D%E5%AD%98vuex%E5%88%B0sessionStorage/" rel="next" title="Vue 保存vuex到sessionStorage">Vue 保存vuex到sessionStorage <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><script>window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E8%8C%83%E5%9B%B4%E5%86%85%E9%9A%8F%E6%9C%BA%E6%95%B0"><span class="nav-number">1.</span> <span class="nav-text">获取范围内随机数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B7%B1%E5%BA%A6%E5%85%8B%E9%9A%86-deepclone"><span class="nav-number">2.</span> <span class="nav-text">深度克隆 deepclone</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E6%97%B6%E9%97%B4"><span class="nav-number">3.</span> <span class="nav-text">获取时间</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A0%B9%E6%8D%AE%E6%97%B6%E9%97%B4%E8%BF%94%E5%9B%9E%E5%A4%9A%E4%B9%85%E4%BB%A5%E5%89%8D"><span class="nav-number">4.</span> <span class="nav-text">根据时间返回多久以前</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%98%B2%E6%8A%96"><span class="nav-number">5.</span> <span class="nav-text">防抖</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%8A%82%E6%B5%81"><span class="nav-number">6.</span> <span class="nav-text">节流</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96-query-%E5%AF%B9%E8%B1%A1"><span class="nav-number">7.</span> <span class="nav-text">获取 query 对象</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%97%E8%8A%82%E9%95%BF%E5%BA%A6"><span class="nav-number">8.</span> <span class="nav-text">字节长度</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%8B%E9%9A%86%E6%95%B0%E7%BB%84"><span class="nav-number">9.</span> <span class="nav-text">克隆数组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#html-%E8%8E%B7%E5%8F%96%E6%96%87%E6%9C%AC"><span class="nav-number">10.</span> <span class="nav-text">html 获取文本</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%87%E6%8D%A2-class"><span class="nav-number">11.</span> <span class="nav-text">切换 class</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%98%9F%E5%8F%B7%E6%9B%BF%E6%8D%A2-135-15151"><span class="nav-number">12.</span> <span class="nav-text">星号替换 135****15151</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%8A%E5%8D%88%E4%B8%8B%E5%8D%88"><span class="nav-number">13.</span> <span class="nav-text">上午下午</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%94%AF%E4%B8%80%E6%95%B0%E7%BB%84"><span class="nav-number">14.</span> <span class="nav-text">唯一数组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9A%8F%E6%9C%BA%E6%95%B0"><span class="nav-number">15.</span> <span class="nav-text">随机数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6"><span class="nav-number">16.</span> <span class="nav-text">下载文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#sessionStorage-%E5%B0%81%E8%A3%85"><span class="nav-number">17.</span> <span class="nav-text">sessionStorage 封装</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E5%B7%AE%E8%B7%9D%E5%A4%9A%E5%B0%91%E5%A4%A9"><span class="nav-number">18.</span> <span class="nav-text">获取差距多少天</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%99%BE%E5%BA%A6%E5%9C%B0%E5%9B%BE%E5%9D%90%E6%A0%87%E8%BD%AC%E9%AB%98%E5%BE%B7"><span class="nav-number">19.</span> <span class="nav-text">百度地图坐标转高德</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E6%9C%80%E8%BF%91-7-%E5%A4%A9"><span class="nav-number">20.</span> <span class="nav-text">获取最近 7 天</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%97%A5%E6%9C%9F%E5%8F%98%E6%98%9F%E6%9C%9F%E5%87%A0"><span class="nav-number">21.</span> <span class="nav-text">日期变星期几</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A0%B9%E6%8D%AE%E5%BD%93%E5%89%8D%E6%97%B6%E9%97%B4%E8%8E%B7%E5%8F%96%E5%89%8D%E4%B8%80%E5%A4%A9%E5%90%8E%E4%B8%80%E5%A4%A9"><span class="nav-number">22.</span> <span class="nav-text">根据当前时间获取前一天后一天</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#localStorage-%E7%9A%84%E5%B7%B2%E4%BD%BF%E7%94%A8%E7%A9%BA%E9%97%B4"><span class="nav-number">23.</span> <span class="nav-text">localStorage 的已使用空间</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B8%A6%E5%9B%BE%E5%B8%A6%E4%BA%8B%E4%BB%B6%E7%9A%84%E6%A1%8C%E9%9D%A2%E9%80%9A%E7%9F%A5"><span class="nav-number">24.</span> <span class="nav-text">带图带事件的桌面通知</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8E%9F%E7%94%9F-30-%E8%A1%8C%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E8%A7%86%E9%A2%91%E6%88%AA%E5%9B%BE"><span class="nav-number">25.</span> <span class="nav-text">原生 30 行代码实现视频截图</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8E-URLSearchParams-%E6%88%96-URL-%E8%8E%B7%E5%8F%96-queryString-%E7%9A%84%E5%80%BC"><span class="nav-number">26.</span> <span class="nav-text">基于 URLSearchParams 或 URL 获取 queryString 的值</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8E-atob-%E5%92%8C-btoa-%E7%9A%84-base64-%E7%BC%96%E7%A0%81%E5%92%8C%E8%A7%A3%E7%A0%81"><span class="nav-number">27.</span> <span class="nav-text">基于 atob 和 btoa 的 base64 编码和解码</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9D%9E%E6%AD%A3%E5%88%99%E6%9B%BF%E6%8D%A2%E7%9A%84-html-%E4%BB%A3%E7%A0%81-encode-%E5%92%8C-decode"><span class="nav-number">28.</span> <span class="nav-text">非正则替换的 html 代码 encode 和 decode</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9B%B8%E5%AF%B9%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2%E4%B8%BA%E7%BB%9D%E5%AF%B9%E5%9C%B0%E5%9D%80"><span class="nav-number">29.</span> <span class="nav-text">相对地址转换为绝对地址</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8E-URL-%E6%88%96%E8%80%85-Crypto-getRandomValues-%E7%94%9F%E6%88%90-UUID"><span class="nav-number">30.</span> <span class="nav-text">基于 URL 或者 Crypto.getRandomValues 生成 UUID</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8E-Array-from-%E7%9A%84%E5%BA%8F%E5%88%97%E7%94%9F%E6%88%90%E5%99%A8"><span class="nav-number">31.</span> <span class="nav-text">基于 Array.from 的序列生成器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8E-sendBeacon-%E7%9A%84%E5%AE%89%E5%85%A8%E7%9A%84%E6%95%B0%E6%8D%AE%E4%B8%8A%E6%8A%A5"><span class="nav-number">32.</span> <span class="nav-text">基于 sendBeacon 的安全的数据上报</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8E-toLocaleString-%E5%8D%83%E5%88%86%E4%BD%8D"><span class="nav-number">33.</span> <span class="nav-text">基于 toLocaleString 千分位</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Promise-%E9%A1%BA%E5%BA%8F%E6%89%A7%E8%A1%8C"><span class="nav-number">34.</span> <span class="nav-text">Promise 顺序执行</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BB%B6%E6%97%B6%E6%89%A7%E8%A1%8C-delay"><span class="nav-number">35.</span> <span class="nav-text">延时执行 delay</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%BB%91%E6%BB%9A%E5%8A%A8%E9%A1%B5%E9%9D%A2%E5%88%B0%E9%A1%B6%E9%83%A8"><span class="nav-number">36.</span> <span class="nav-text">滑滚动页面到顶部</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%A6%81%E6%AD%A2%E9%80%89%E6%8B%A9%E5%92%8C%E5%A4%8D%E5%88%B6"><span class="nav-number">37.</span> <span class="nav-text">禁止选择和复制</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%A6%81%E6%AD%A2%E5%9B%BE%E7%89%87%E6%8B%96%E6%8B%BD"><span class="nav-number">38.</span> <span class="nav-text">禁止图片拖拽</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%87%AA%E5%A2%9E%E9%95%BF-ID"><span class="nav-number">39.</span> <span class="nav-text">自增长 ID</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E6%98%AF%E6%89%8B%E6%9C%BA%E5%8F%B7"><span class="nav-number">40.</span> <span class="nav-text">判断是否是手机号</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E6%98%AF%E7%94%B5%E8%AF%9D"><span class="nav-number">41.</span> <span class="nav-text">判断是否是电话</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AE%A1%E7%AE%97%E6%96%87%E4%BB%B6%E6%9C%89%E5%A4%9A%E5%A4%A7"><span class="nav-number">42.</span> <span class="nav-text">计算文件有多大</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%94%9F%E6%88%90-guid"><span class="nav-number">43.</span> <span class="nav-text">生成 guid</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#param-%E8%BD%AC-object"><span class="nav-number">44.</span> <span class="nav-text">param 转 object</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E5%B0%86%E5%BD%BB%E5%BA%95%E5%B1%8F%E8%94%BD%E9%BC%A0%E6%A0%87%E5%8F%B3%E9%94%AE"><span class="nav-number">45.</span> <span class="nav-text">1. 将彻底屏蔽鼠标右键</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E5%8F%96%E6%B6%88%E9%80%89%E5%8F%96%E3%80%81%E9%98%B2%E6%AD%A2%E5%A4%8D%E5%88%B6"><span class="nav-number">46.</span> <span class="nav-text">2. 取消选取、防止复制</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-JS-%E4%B8%8D%E5%85%81%E8%AE%B8%E7%B2%98%E8%B4%B4"><span class="nav-number">47.</span> <span class="nav-text">3. JS 不允许粘贴</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-JS-%E9%98%B2%E6%AD%A2%E5%A4%8D%E5%88%B6"><span class="nav-number">48.</span> <span class="nav-text">4. JS 防止复制</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-IE-%E5%9C%B0%E5%9D%80%E6%A0%8F%E5%89%8D%E6%8D%A2%E6%88%90%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9B%BE%E6%A0%87"><span class="nav-number">49.</span> <span class="nav-text">5. IE 地址栏前换成自己的图标</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-%E5%8F%AF%E4%BB%A5%E5%9C%A8%E6%94%B6%E8%97%8F%E5%A4%B9%E4%B8%AD%E6%98%BE%E7%A4%BA%E5%87%BA%E4%BD%A0%E7%9A%84%E5%9B%BE%E6%A0%87"><span class="nav-number">50.</span> <span class="nav-text">6. 可以在收藏夹中显示出你的图标</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-%E5%85%B3%E9%97%AD%E8%BE%93%E5%85%A5%E6%B3%95"><span class="nav-number">51.</span> <span class="nav-text">7. 关闭输入法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-%E6%B0%B8%E8%BF%9C%E9%83%BD%E4%BC%9A%E5%B8%A6%E7%9D%80%E6%A1%86%E6%9E%B6"><span class="nav-number">52.</span> <span class="nav-text">8. 永远都会带着框架</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-%E9%98%B2%E6%AD%A2%E8%A2%AB%E4%BA%BA-frame"><span class="nav-number">53.</span> <span class="nav-text">9. 防止被人 frame</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10-%E7%BD%91%E9%A1%B5%E5%B0%86%E4%B8%8D%E8%83%BD%E8%A2%AB%E5%8F%A6%E5%AD%98%E4%B8%BA"><span class="nav-number">54.</span> <span class="nav-text">10. 网页将不能被另存为</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11-%E7%BD%91%E9%A1%B5%E6%BA%90%E4%BB%A3%E7%A0%81"><span class="nav-number">55.</span> <span class="nav-text">11. 网页源代码</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12-%E5%88%A0%E9%99%A4%E6%97%B6%E7%A1%AE%E8%AE%A4"><span class="nav-number">56.</span> <span class="nav-text">12. 删除时确认</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-%E5%8F%96%E5%BE%97%E6%8E%A7%E4%BB%B6%E7%9A%84%E7%BB%9D%E5%AF%B9%E4%BD%8D%E7%BD%AE"><span class="nav-number">57.</span> <span class="nav-text">13. 取得控件的绝对位置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#14-%E5%85%89%E6%A0%87%E6%98%AF%E5%81%9C%E5%9C%A8%E6%96%87%E6%9C%AC%E6%A1%86%E6%96%87%E5%AD%97%E7%9A%84%E6%9C%80%E5%90%8E"><span class="nav-number">58.</span> <span class="nav-text">14. 光标是停在文本框文字的最后</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#15-%E5%88%A4%E6%96%AD%E4%B8%8A%E4%B8%80%E9%A1%B5%E7%9A%84%E6%9D%A5%E6%BA%90"><span class="nav-number">59.</span> <span class="nav-text">15. 判断上一页的来源</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#16-%E6%9C%80%E5%B0%8F%E5%8C%96%E3%80%81%E6%9C%80%E5%A4%A7%E5%8C%96%E3%80%81%E5%85%B3%E9%97%AD%E7%AA%97%E5%8F%A3"><span class="nav-number">60.</span> <span class="nav-text">16. 最小化、最大化、关闭窗口</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#17-%E5%B1%8F%E8%94%BD%E5%8A%9F%E8%83%BD%E9%94%AE-Shift-Alt-Ctrl"><span class="nav-number">61.</span> <span class="nav-text">17. 屏蔽功能键 Shift,Alt,Ctrl</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#18-%E7%BD%91%E9%A1%B5%E4%B8%8D%E4%BC%9A%E8%A2%AB%E7%BC%93%E5%AD%98"><span class="nav-number">62.</span> <span class="nav-text">18. 网页不会被缓存</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#19-%E6%80%8E%E6%A0%B7%E8%AE%A9%E8%A1%A8%E5%8D%95%E6%B2%A1%E6%9C%89%E5%87%B9%E5%87%B8%E6%84%9F"><span class="nav-number">63.</span> <span class="nav-text">19. 怎样让表单没有凹凸感</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#20-lt-div-gt-lt-span-gt-amp-lt-layer-gt-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-number">64.</span> <span class="nav-text">20. &lt; div&gt;&lt; span&gt;&amp;&lt; layer&gt;的区别?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#21-%E8%AE%A9%E5%BC%B9%E5%87%BA%E7%AA%97%E5%8F%A3%E6%80%BB%E6%98%AF%E5%9C%A8%E6%9C%80%E4%B8%8A%E9%9D%A2"><span class="nav-number">65.</span> <span class="nav-text">21. 让弹出窗口总是在最上面</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#22-%E4%B8%8D%E8%A6%81%E6%BB%9A%E5%8A%A8%E6%9D%A1"><span class="nav-number">66.</span> <span class="nav-text">22. 不要滚动条</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#23-%E6%80%8E%E6%A0%B7%E5%8E%BB%E6%8E%89%E5%9B%BE%E7%89%87%E9%93%BE%E6%8E%A5%E7%82%B9%E5%87%BB%E5%90%8E%EF%BC%8C%E5%9B%BE%E7%89%87%E5%91%A8%E5%9B%B4%E7%9A%84%E8%99%9A%E7%BA%BF%EF%BC%9F"><span class="nav-number">67.</span> <span class="nav-text">23. 怎样去掉图片链接点击后，图片周围的虚线？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#24-%E7%94%B5%E5%AD%90%E9%82%AE%E4%BB%B6%E5%A4%84%E7%90%86%E6%8F%90%E4%BA%A4%E8%A1%A8%E5%8D%95"><span class="nav-number">68.</span> <span class="nav-text">24. 电子邮件处理提交表单</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#25-%E5%9C%A8%E6%89%93%E5%BC%80%E7%9A%84%E5%AD%90%E7%AA%97%E5%8F%A3%E5%88%B7%E6%96%B0%E7%88%B6%E7%AA%97%E5%8F%A3%E7%9A%84%E4%BB%A3%E7%A0%81%E9%87%8C%E5%A6%82%E4%BD%95%E5%86%99%EF%BC%9F"><span class="nav-number">69.</span> <span class="nav-text">25. 在打开的子窗口刷新父窗口的代码里如何写？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#26-%E5%A6%82%E4%BD%95%E8%AE%BE%E5%AE%9A%E6%89%93%E5%BC%80%E9%A1%B5%E9%9D%A2%E7%9A%84%E5%A4%A7%E5%B0%8F"><span class="nav-number">70.</span> <span class="nav-text">26. 如何设定打开页面的大小</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#27-%E5%9C%A8%E9%A1%B5%E9%9D%A2%E4%B8%AD%E5%A6%82%E4%BD%95%E5%8A%A0%E5%85%A5%E4%B8%8D%E6%98%AF%E6%BB%A1%E9%93%BA%E7%9A%84%E8%83%8C%E6%99%AF%E5%9B%BE%E7%89%87-%E6%8B%89%E5%8A%A8%E9%A1%B5%E9%9D%A2%E6%97%B6%E8%83%8C%E6%99%AF%E5%9B%BE%E4%B8%8D%E5%8A%A8"><span class="nav-number">71.</span> <span class="nav-text">27. 在页面中如何加入不是满铺的背景图片,拉动页面时背景图不动</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#28-%E6%A3%80%E6%9F%A5%E4%B8%80%E6%AE%B5%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%98%AF%E5%90%A6%E5%85%A8%E7%94%B1%E6%95%B0%E5%AD%97%E7%BB%84%E6%88%90"><span class="nav-number">72.</span> <span class="nav-text">28. 检查一段字符串是否全由数字组成</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#29-%E8%8E%B7%E5%BE%97%E4%B8%80%E4%B8%AA%E7%AA%97%E5%8F%A3%E7%9A%84%E5%A4%A7%E5%B0%8F"><span class="nav-number">73.</span> <span class="nav-text">29. 获得一个窗口的大小</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#30-%E6%80%8E%E4%B9%88%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E6%98%AF%E5%AD%97%E7%AC%A6"><span class="nav-number">74.</span> <span class="nav-text">30. 怎么判断是否是字符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#31-TEXTAREA-%E8%87%AA%E9%80%82%E5%BA%94%E6%96%87%E5%AD%97%E8%A1%8C%E6%95%B0%E7%9A%84%E5%A4%9A%E5%B0%91"><span class="nav-number">75.</span> <span class="nav-text">31.TEXTAREA 自适应文字行数的多少</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#32-%E6%97%A5%E6%9C%9F%E5%87%8F%E5%8E%BB%E5%A4%A9%E6%95%B0%E7%AD%89%E4%BA%8E%E7%AC%AC%E4%BA%8C%E4%B8%AA%E6%97%A5%E6%9C%9F"><span class="nav-number">76.</span> <span class="nav-text">32. 日期减去天数等于第二个日期</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#33-%E9%80%89%E6%8B%A9%E4%BA%86%E5%93%AA%E4%B8%80%E4%B8%AA-Radio"><span class="nav-number">77.</span> <span class="nav-text">33. 选择了哪一个 Radio</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#34-%E8%84%9A%E6%9C%AC%E6%B0%B8%E4%B8%8D%E5%87%BA%E9%94%99"><span class="nav-number">78.</span> <span class="nav-text">34. 脚本永不出错</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#35-ENTER-%E9%94%AE%E5%8F%AF%E4%BB%A5%E8%AE%A9%E5%85%89%E6%A0%87%E7%A7%BB%E5%88%B0%E4%B8%8B%E4%B8%80%E4%B8%AA%E8%BE%93%E5%85%A5%E6%A1%86"><span class="nav-number">79.</span> <span class="nav-text">35. ENTER 键可以让光标移到下一个输入框</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#36-%E6%A3%80%E6%B5%8B%E6%9F%90%E4%B8%AA%E7%BD%91%E7%AB%99%E7%9A%84%E9%93%BE%E6%8E%A5%E9%80%9F%E5%BA%A6"><span class="nav-number">80.</span> <span class="nav-text">36. 检测某个网站的链接速度</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#37-%E5%90%84%E7%A7%8D%E6%A0%B7%E5%BC%8F%E7%9A%84%E5%85%89%E6%A0%87"><span class="nav-number">81.</span> <span class="nav-text">37. 各种样式的光标</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#38-%E9%A1%B5%E9%9D%A2%E8%BF%9B%E5%85%A5%E5%92%8C%E9%80%80%E5%87%BA%E7%9A%84%E7%89%B9%E6%95%88"><span class="nav-number">82.</span> <span class="nav-text">38. 页面进入和退出的特效</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#39-%E5%9C%A8%E8%A7%84%E5%AE%9A%E6%97%B6%E9%97%B4%E5%86%85%E8%B7%B3%E8%BD%AC"><span class="nav-number">83.</span> <span class="nav-text">39. 在规定时间内跳转</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#40-%E7%BD%91%E9%A1%B5%E6%98%AF%E5%90%A6%E8%A2%AB%E6%A3%80%E7%B4%A2"><span class="nav-number">84.</span> <span class="nav-text">40. 网页是否被检索</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#41-%E5%9B%9E%E8%BD%A6"><span class="nav-number">85.</span> <span class="nav-text">41. 回车</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="很帅很愁人~" src="/images/my.jpg"><p class="site-author-name" itemprop="name">很帅很愁人~</p><div class="site-description" itemprop="description">梦是一种欲望, 想是一种行动。梦想是梦与想的结晶，加油打工人~~</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">226</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">50</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">121</span> <span class="site-state-item-name">标签</span></a></div></nav></div></div><script type="text/javascript" charset="utf-8" src="/js/tagcloud.js"></script><script type="text/javascript" charset="utf-8" src="/js/tagcanvas.js"></script><div class="widget-wrap"><div id="myCanvasContainer" class="widget tagcloud"><canvas width="250" height="250" id="resCanvas"><ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ArryaBuffer/" rel="tag">ArryaBuffer</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/" rel="tag">CSS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MarkDown/" rel="tag">MarkDown</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Promise/" rel="tag">Promise</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Recorder/" rel="tag">Recorder</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TS/" rel="tag">TS</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UDP/" rel="tag">UDP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/V8/" rel="tag">V8</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vue/" rel="tag">Vue</a><span class="tag-list-count">23</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VueRouter/" rel="tag">VueRouter</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vuex/" rel="tag">Vuex</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WebStorage/" rel="tag">WebStorage</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/api%E9%9B%86%E4%B8%AD%E7%AE%A1%E7%90%86/" rel="tag">api集中管理</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/apply/" rel="tag">apply</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/axios/" rel="tag">axios</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bind/" rel="tag">bind</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/call/" rel="tag">call</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cli/" rel="tag">cli</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cors/" rel="tag">cors</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/" rel="tag">css</a><span class="tag-list-count">23</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css3/" rel="tag">css3</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/drag/" rel="tag">drag</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ejsexcel/" rel="tag">ejsexcel</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/electron/" rel="tag">electron</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/element/" rel="tag">element</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/es6/" rel="tag">es6</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/excel%E5%AF%BC%E5%87%BA/" rel="tag">excel导出</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/filter/" rel="tag">filter</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flex/" rel="tag">flex</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/getters/" rel="tag">getters</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/" rel="tag">git</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/github/" rel="tag">github</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grid/" rel="tag">grid</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/host/" rel="tag">host</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/html/" rel="tag">html</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/html5/" rel="tag">html5</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jenkins/" rel="tag">jenkins</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/" rel="tag">js</a><span class="tag-list-count">84</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/" rel="tag">js基础语法</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js%E6%93%8D%E4%BD%9C%E7%AC%A6/" rel="tag">js操作符</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lottie/" rel="tag">lottie</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/media/" rel="tag">media</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/messageChannel/" rel="tag">messageChannel</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/miniVue/" rel="tag">miniVue</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mitt/" rel="tag">mitt</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mock/" rel="tag">mock</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nest/" rel="tag">nest</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nextTick/" rel="tag">nextTick</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node/" rel="tag">node</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nodejs/" rel="tag">nodejs</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/npm/" rel="tag">npm</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/print/" rel="tag">print</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/promise/" rel="tag">promise</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react/" rel="tag">react</a><span class="tag-list-count">26</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/recorder/" rel="tag">recorder</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ref/" rel="tag">ref</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rem/" rel="tag">rem</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/require-context/" rel="tag">require.context</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/reuqest/" rel="tag">reuqest</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/router/" rel="tag">router</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/scss/" rel="tag">scss</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sessionStorage/" rel="tag">sessionStorage</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/slot/" rel="tag">slot</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/stackoverflow/" rel="tag">stackoverflow</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tailwind/" rel="tag">tailwind</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tcp/" rel="tag">tcp</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/this/" rel="tag">this</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/three/" rel="tag">three</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/threejs/" rel="tag">threejs</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ts/" rel="tag">ts</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/uniapp/" rel="tag">uniapp</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/utils/" rel="tag">utils</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vm/" rel="tag">vm</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vscode/" rel="tag">vscode</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue/" rel="tag">vue</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vueRouter/" rel="tag">vueRouter</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vuex/" rel="tag">vuex</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vw/" rel="tag">vw</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web-worker/" rel="tag">web worker</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webpack/" rel="tag">webpack</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/websocket/" rel="tag">websocket</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web%E6%89%93%E5%8D%B0/" rel="tag">web打印</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/worker/" rel="tag">worker</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/xlsx/" rel="tag">xlsx</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/yarn/" rel="tag">yarn</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BC%98%E5%8C%96/" rel="tag">优化</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8/" rel="tag">分库分表</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%88%9D%E5%BF%83/" rel="tag">初心</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8A%A8%E7%94%BB%E5%BA%93/" rel="tag">动画库</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8E%9F%E5%9E%8B%E4%B8%8E%E5%8E%9F%E5%9E%8B%E9%93%BE/" rel="tag">原型与原型链</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85/" rel="tag">发布订阅</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8F%AF%E8%A7%86%E5%8C%96/" rel="tag">可视化</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%9A%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD/" rel="tag">多文件下载</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%A7%E5%B1%8F/" rel="tag">大屏</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AA%92%E4%BD%93%E6%9F%A5%E8%AF%A2/" rel="tag">媒体查询</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AD%97%E8%8A%82%E5%BA%8F/" rel="tag">字节序</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B0%81%E8%A3%85%E8%AF%B7%E6%B1%82/" rel="tag">封装请求</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/" rel="tag">小程序</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B1%85%E4%B8%AD%E5%AF%B9%E9%BD%90/" rel="tag">居中对齐</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" rel="tag">微信小程序</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BF%83%E5%BE%97/" rel="tag">心得</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7/" rel="tag">性能监控</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8B%96%E6%8B%BD/" rel="tag">拖拽</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8F%92%E6%A7%BD/" rel="tag">插槽</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag">数据库</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD/" rel="tag">文件下载</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9D%82%E8%B0%88/" rel="tag">杂谈</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B3%9B%E5%9E%8B/" rel="tag">泛型</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%9B%B8%E5%86%8C/" rel="tag">相册</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/" rel="tag">移动端常见问题</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%84%9A%E6%89%8B%E6%9E%B6/" rel="tag">脚手架</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2/" rel="tag">自动化部署</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%87%AA%E9%80%82%E5%BA%94/" rel="tag">自适应</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%B0%83%E8%AF%95/" rel="tag">调试</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%B7%A8%E5%9F%9F/" rel="tag">跨域</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BE%85%E5%8A%A9%E5%B7%A5%E5%85%B7/" rel="tag">辅助工具</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BF%99%E4%B8%A4%E5%B9%B4%E5%81%9A%E8%BF%87%E7%9A%84%E7%89%A9%E8%81%94%E7%BD%91%E9%A1%B9%E7%9B%AE/" rel="tag">这两年做过的物联网项目</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B/" rel="tag">进程和线程</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%83%A8%E7%BD%B2/" rel="tag">部署</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9D%A2%E8%AF%95/" rel="tag">面试</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/" rel="tag">面试题</a><span class="tag-list-count">1</span></li></ul></canvas></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="beian"><span class="exturl" data-url="aHR0cHM6Ly9iZWlhbi5taWl0Lmdvdi5jbg==">豫ICP备19017003号-1 </span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://blog.img.wy1991.cn/static/images/ga.png" style="display:inline-block"></div><div class="copyright">&copy; 2021 – <span itemprop="copyrightYear">2022</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">很帅很愁人~</span></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i> </span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span> </span></span><span class="post-meta-divider">|</span> <span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div></div></footer></div><script src="/lib/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script>!function(){var e,t,o,n,r,a=document.getElementsByTagName("link");if(0<a.length)for(i=0;i<a.length;i++)"canonical"==a[i].rel.toLowerCase()&&a[i].href&&(e=a[i].href);t=e?e.split(":")[0]:window.location.protocol.split(":")[0],e=e||window.location.href,window,n=e,r=document.referrer,/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi.test(n)||(o="https"===String(t).toLowerCase()?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif",r?(o+="?r="+encodeURIComponent(document.referrer),n&&(o+="&l="+n)):n&&(o+="?l="+n),(new Image).src=o)}()</script><script src="/js/local-search.js"></script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?f65cb40e9a5d20342ae8b58def42ea5f";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js",t.name="baidu_tongji";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}()</script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,model:null,display:{position:"left",width:150,height:300},mobile:{show:!1},log:!1})</script><script>window.imageLazyLoadSetting={isSPA:!1,preloadRatio:3,processImages:null}</script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})})</script><script>!function(n){n.imageLazyLoadSetting.processImages=o;var e=n.imageLazyLoadSetting.isSPA,i=n.imageLazyLoadSetting.preloadRatio||1,r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function o(){e&&(r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")));for(var t,a=0;a<r.length;a++)0<=(t=r[a].getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(n.innerHeight*i||document.documentElement.clientHeight*i)&&function(){var e=r[a],t=e,n=function(){r=r.filter(function(t){return e!==t})},i=new Image,o=t.getAttribute("data-original");i.onload=function(){t.src=o,n()},t.src!==o&&(i.src=o)}()}o(),n.addEventListener("scroll",function(){var t=o,e=n;clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(e)},500)})}(this)</script></body></html>